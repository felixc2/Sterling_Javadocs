<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:12 EDT 2018 -->
<title>getOrderPrice (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="getOrderPrice (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ypm/price/getLowestItemPrice.html" title="interface in com.yantra.api.ypm.price"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/ypm/price/validateCoupon.html" title="interface in com.yantra.api.ypm.price"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ypm/price/getOrderPrice.html" target="_top">Frames</a></li>
<li><a href="getOrderPrice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.ypm.price</div>
<h2 title="Interface getOrderPrice" class="title">Interface getOrderPrice</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a>, com.yantra.api.YPMApi</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">getOrderPrice</span></pre>
<div class="block">Computes price of an order.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/ypm/price/getOrderPrice.html#getOrderPrice-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">getOrderPrice</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
             org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>getOrderPrice</code> API is used to compute the price of an order.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOrderPrice-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOrderPrice</h4>
<pre>org.w3c.dom.Document&nbsp;getOrderPrice(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                   org.w3c.dom.Document&nbsp;inXML)
                            throws com.yantra.yfs.japi.YFSException,
                                   java.rmi.RemoteException</pre>
<div class="block"><p>The <code>getOrderPrice</code> API is used to compute the price of an order.
 <br>
 <br>
 The processing logic of the <code>getOrderPrice</code> API is as follows:
  <ol>
    <li>Carry out input validations.
    <li>Invoke the <code>YPMGetOrderPrice</code> user exit where the order price calculation can be implemented external to the system.  If this user exit is implemented, then the API doesn't process further and returns the user exit output as the API output. 
    The user exit is expected to return all the order lines passed to it. Any order line that is not returned by the user exit will be cancelled if <code>CommonCode</code> configuration for <code>CodeType</code> of 'EXTRALINE_AWARD_TYPE' 
    matches with the <code>AwardType</code> on the order line. Similarly any extra line that is  returned by the user exit will be added to the order based on the above <code>CommonCode</code> configuration.
    <li>Determine unit price for order lines that are not price locked using the <code>getItemPrice</code> API. Quantities of order lines with same <code>ItemID</code> and <code>UnitOfMeasure</code> are summed up for unit price calculation.
    The sum doesn't include the information only order lines i.e. with <code>IsLinePriceForInformationOnly</code> set to <code><b>Y</b></code>, these lines are priced individually.  
    <li><b>If</b> rule execution is suppressed then
      <ul>
          <li>For each order line calculate <code>ExtendedPrice</code>, <code>LinePrice</code> and <code>LineTotal</code> by multiplying <code>Quantity</code> and <code>UnitPrice</code>.
          <li>Sum of <code>LinePrice</code> from all order lines is set as <code>LinePriceTotal</code>, <code>Subtotal</code> and <code>OrderTotal</code>.
      </ul>
    </li>
    <li><b>Else</b>
      <ul>
          <li>Load all the rules from i.e. <code>YPM_PRICING_RULE</code> that are assigned for the passed input criteria.
          <li>Load all the rules passed under manual rule adjustments*.
          <li>For all the coupon identifiers passed in the input, invoke <code>validateCoupon</code> API for each of them.  Only coupons with <code>Valid</code> flag set to <code><b>Y</b></code> and that exists in the system is used for further processing. Load all rules associated with the valid coupons in the same order as they are passed in the input.
           <li>Invoke the <code>YPMLoadCustomPricingRules</code> user exit where additional pricing rules will be loaded. If this user exit is implemented, the list of additional pricing rules returned will be added to the existing pricing rules loaded by the system.
          <li>If the pricing rule is custom(the <code>IS_CUSTOM_RULE</code> flag will be set to <code>'Y'</code>), the <code>YPMRunPricingRule</code> user exit is invoked which applies the custom pricing rule on the order. If the user exit is not implemented, the custom pricing rule will not be applied on the order.
          <li> If the pricing rule is not custom, the following steps are done for the rule evaluation. 
          <li>Evaluate all the loaded rules that belong to category <code><b>PRICING</b></code> and is an item targeted rule**, to get list of line targeted actions. Perform these line targeted actions to generate adjustments under  <code>LineAdjustments</code> element. These adjustments are summed up to <code>LineAdjustment</code> at each order line***.
          <li>For each line calculate <code>LinePrice</code>, which is sum of <code>ExtendedPrice</code> and <code>LineAdjustment</code> on that line.
          <li>Calculate <code>LinePriceTotal</code>, which is sum of <code>LinePrice</code> from all the order lines.
          <li>Evaluate all the loaded rules that belong to category <code><b>PRICING</b></code> and of type <code><b>ORDER_TOTAL</b></code> on <code>LinePriceTotal</code> to get list of order level actions. Perform these actions to generate <code>Adjustments</code> under <code>Order</code> element****. These adjustments are summed up to <code>OrderAdjustment</code> at the order level.
          <li>Calculate <code>Subtotal</code>, which is sum of <code>LinePriceTotal</code> and <code>OrderAdjustment</code>.
          <li>If shipping is not suppressed then
              <ol>
                  <li>Invoke the <code>YPMCalculateShippingCharge</code> user exit where the shipping charge calculation happens. If this user exit is implemented, then the shipping charge returned is used for further processing else shipping charge passed in the input is used.
                  <li>Evaluate all the loaded rules that belong to category <code><b>SHIPPING</b></code> and is an item targeted rule, to get list of line targeted actions. Perform these line targeted actions on lines that are shipped to generate adjustments under  <code>ShippingAdjustments</code> element. These adjustments are summed up to <code>ShippingSurcharge</code> at each order line and <code>ShippingSurcharge</code> at <code>Shipping</code> element.
                  <li>Evaluate all the loaded rules that belong to category <code><b>SHIPPING</b></code> and of type <code><b>ORDER_TOTAL</b></code> on <code>Subtotal</code> to get list of order level actions. These actions can be either a flat fee action or a non flat fee (which is an absoute or percent on <code>Subtotal</code>). Either one of them, a single flat fee or multiple non flat fee adjustments are applied depending upon which of these provides maximum discount. These actions generate <code>Adjustments</code> under <code>Shipping</code> element***. These adjustments are summed up to <code>ShippingChargeAdjustment</code> at the order level under <code>Shipping</code> element. The sum of <code>ShippingChargeAdjustment</code> and <code>ShippingCharge</code> cannot be negative.
                  <li>Sum of <code>ShippingChargeAdjustment</code> and <code>ShippingSurcharge</code> is set as <code>ShippingAdjustment</code>. 
                  <li>Sum of <code>ShippingAdjustment</code> and <code>ShippingCharge</code> is set as <code>AdjustedShippingTotal</code>.
              </ol>
          </li>
          <li><code>OrderTotal</code> the price of the order is sum <code>Subtotal</code> and <code>AdjustedShippingTotal</code>.
      </ul>
    </li>
</ol>
 <br>*In case of Manual adjustment, pricing rules having IgnoreRuleOnManualAdjustment = Y will be ignored. e.g. Assume that Order has 2 order lines having same item id (e.g. ITEM1). On one order line manual adjustment is applied. Here all the rules applicable for the item (ITEM1) having IgnoreRuleOnManualAdjustment = Y will be ignored for line having manual adjustment whereas these rules are applicable for other order line.
 <br>**Quantity is always a condition for an item targeted rule. If the rule has to be ignored on price locked or on manually adjusted lines then only quantities from order lines that are not locked or manually adjusted is considered for rule evaluation and application.
 <br>***Adjustments are distributed weighted on <code>ExtendedPrice</code> to order lines of same <code>ItemID</code> and <code>UnitOfMeasure</code>, only if the adjustment is not generated for all units and <code>YPM_DISTRIBUTE_LINE_ADJUSTMENTS</code> rule is enabled.
 <br>****Adjustments are distributed weighted on <code>LinePrice</code> to order lines, only if the distribution is enabled on the pricing rule. <code>ShippingChargeAdjustment</code> are distributed to order lines that are shipped and are eligible for shipping discount.
 
 <p><b>Exclusivity Processing</b><br>

 <ul>
     <li>From list of rules which belong to the same Exclusivity Id only one or multiple rule(s) is chosen according to the Exclusivity Type on the Exclusivity Id.</li>
     <li>Manual Rules take precedence over normal pricing rules. Manual Rules compete with other Manual Rules, but not with normal pricing rules.</li>
     <li>Rule selection is as follows:</li>
     <ol>
         <li> Rule of type "Pricing Rule cannot be combined with any other Pricing Rule - Global":</li>
             <ol>
             <li>A rule of type "Pricing Rule cannot be combined with any other Pricing Rule- Global" is applied only if it yields a better discount than the 
                 combination of rules <u>from all the Exclusivity Ids</u> of Exclusivity Types:</li>
                 <ul>
                     <li>"Pricing Rule cannot be combined with any other Pricing Rule"</li>
                     <li>"Pricing Rule cannot be combined with any other Pricing Rule of same Rule Type"</li>
                     <li>"Pricing Rule can not be combined with any other Pricing Rule for the same item"</li>
                     <li>"Pricing Rule can be combined with any other Pricing Rule"</li>
                 </ul>
             <li>Manual Rules take precedence. Manual Rules compete with other Manual Rules, but not with normal pricing rules.</li> 
             <li>If there are multiple rules of type "Pricing Rule cannot be combined with any other Pricing Rule- Global" the 
                 rule to apply of this type is decided as follows:</li>
                 <ul>
                     <li>If priority is defined for the rules, the rule with the highest priority is selected</li>
                     <li>If no priority has been set, the rule that gives the best discount is selected</li>
                     <li>If multiple rules have same priority, the rule that gives the best discount is selected</li>
                     <li>If multiple rules have same priority and same discount, then only one rule is selected</li>
                 </ul>
             </ol>
         <li>Rule of type "Pricing Rule cannot be combined with any other Pricing Rule":</li>
            <ol> 
            <li>A rule of type "Pricing Rule cannot be combined with any other Pricing Rule" is applied only if it yields a better discount than the combination of 
             rules belonging to Exclusivity Types:</li> 
                 <ul>
                     <li>"Pricing Rule cannot be combined with any other Pricing Rule of same Rule Type"</li> 
                     <li>"Pricing Rule can not be combined with any other Pricing Rule for the same item"</li> 
                     <li>"Pricing Rule can be combined with any other Pricing Rule"</li>
                 </ul> 
             <li>Manual Rules take precedence. Manual Rules compete with other Manual Rules, but not with normal pricing rules.</li>
             <li>If there are multiple rules of type "Pricing Rule cannot be combined with any other Pricing Rule" the rule to apply of this type is decided as follows:</li>
                 <ul>
                    <li>If priority is defined for the rules, the rule with the highest priority is selected</li>
                    <li>If no priority has been set, the rule that gives the best discount is selected</li>
                    <li>If multiple rules have same priority, the rule that gives the best discount is selected</li>
                    <li>If multiple rules have same priority and same discount, then only one rule is selected</li>
                 </ul>
             </ol>
         <li>Rule of type "Pricing Rule cannot be combined with any other Pricing Rule of same Rule Type": </li>
         <ul>
             <li>If rule is item targeted, then all other item targeted rules in the same Exclusivity Id are not applied.</li>
             <li>If rule is Order targeted, all other order targeted rules in same Exclusivity Id are not applied.</li>
             <li>If rule is Order targeted Shipping rule, all other order targeted Shipping rules in same Exclusivity Id are not applied.</li>
             <li>If rule is Shipping targeted Item surcharge rule, all other Shipping targeted Item surcharge rules in the same Exclusivity Id are not applied.</li>
             <li>Within each of these 4 phases explained above:</li> 
             <ol>
                 <li>Manual Rules take precedence. Manual Rules compete with other Manual Rules, but not with normal pricing rules.</li>
                 <li>A rule of type  "Pricing Rule cannot be combined with any other Pricing Rule of same Rule Type" is applied only if it yields a better discount 
                     than the combination of rules belonging to Exclusivity Types:</li>
                     <ul><li> "Pricing Rule can not be combined with any other Pricing Rule for the same item"</li>
                         <li> "Pricing Rule can be combined with any other Pricing Rule".</li>
                     </ul>
                 <li>If there are multiple rules of type "Pricing Rule cannot be combined with any other Pricing Rule of same Rule Type", the rule to apply is decided as follows:
                     <ul>
                         <li>If priority is defined for the rules, the rule with the highest priority is selected</li>
                         <li>If no priority has been set, the rule that gives the best discount is selected</li>
                         <li>If multiple rules have same priority, the rule that gives the best discount is selected</li>
                         <li>If multiple rules have same priority and same discount, then only one rule is selected</li>
                     </ul>
                 </li>
             </ol>
         </ul>
         <li>Rule of type "Pricing Rule can not be combined with any other Pricing Rule for the same item":</li>
         <ul>
             <li>if rule is item targeted, then all other item targeted rules in the same Exclusivity Id, targeting the same item are not applied. Rules targeting different 
                 items are applied to those items</li>
             <li>If rule is Shipping targeted Item surcharge rule, all other Shipping targeted Item surcharge rules targeting the same item in the same Exclusivity Id are 
                 not applied. Rules targeting different items are applied to those items</li>
             <li>Within each of the phases explained above</li> 
             <ol>
                 <li>Manual Rules take precedence. Manual Rules compete with other Manual Rules, but not with normal pricing rules</li>
                 <li>A rule of type "Pricing Rule can not be combined with any other Pricing Rule for the same item" , is applied only if it yields a better discount than the 
                     combination of rules belonging to Exclusivity Type:</li>
                     <ul><li> "Pricing Rule can be combined with any other Pricing Rule"</li>
                     </ul>
                 <li>If there are multiple rules of type "Pricing Rule can not be combined with any other Pricing Rule for the same item", the rule to apply is decided as follows:
                     <ul>
                         <li>If priority is defined for the rules, the rule with the highest priority is selected</li>
                         <li>If no priority has been set, the rule that gives the best discount is selected</li>
                         <li>If multiple rules have same priority, the rule that gives the best discount is selected</li>
                         <li>If multiple rules have same priority and same discount, then only one rule is selected</li>
                     </ul>
                 </li>
             </ol>
         </ul>
     </ol>
 </ul>
 </p>
 
 <p><b>Coupon Exclusivity</b><br>
 
 Coupon Exclusivity is <b>deprecated</b>. The general Exclusivity processing described above applies to coupons.
 <br/><br/>
 The Following are true for application of coupons that are exclusive:
     <ul>
         <li>Either a single exclusive coupon or multiple non-exclusive coupons can be applied on coupon target.
         <li>An item targeted exclusive coupon does not conflict with any order level coupon.
         <li>An order level exclusive coupon does not conflict with any item targeted coupon.
         <li>An item targeted exclusive coupon is exclusive with another item targeted coupon only if the targets are same and vice versa.
         <li>An order total exclusive coupon is exclusive with any of the order total coupon and vice versa.
     </ul>
 </p>
 
 <p><b>Free Gift Adjustments</b><br>
 
 Free gift adjustments are applied via pricing rules with IsFreeGiftRule="Y".
 <br/><br/>
 The Following is true of free gift logic within pricing:
     <ul>
         <li>Free gift adjustments on COMBINATION rules are applied as line adjustments. ORDER_TOTAL free gift adjustments are applied at the header, with OrderAdjustments at the line level.
         <li>If a free gift rule cannot apply to a line on the order or create a new line, it will create a header-level adjustment with StatusMsgCode="YPM_RULE_FREE_GIFT_NOT_SELECTED". It will also have AwardQuantity for remaining free gift quantity if that quantity is specified. 
         <li>Multiple free gift rules applying to the same order may not provide optimal discount.
         <li>Free gift manual rules are not supported. Free gift coupon rules are supported normally.
         <li>Quantity will only be added automatically if it does not exceed MaxAbsoluteAdjustment. Other than this, MaxAbsoluteAdjustment and OverrideMaxAbsoluteAdjustment are not honored for free gift rules.
     </ul>
 </p>
 
 <p>
 <B> Business Validation</B>
 <p> Business Validation framework is invoked when normal business rules needs be overridden for the order to proceed. When getOrderPrice is called in an order context, override rules will be considered. The getOrderPrice user exit can also be configured to perform these validations.
 <ul>
 <li>If the current transaction meets any such business condition, then the override framework is invoked to evaluate the 
 override rules setup for the following validations: </li>
 </ul>
   
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=5 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Information <b></font></td>
  <tr>
                <td>CPN_GRACE_PERIOD </td>
                <td>This validation is invoked(on a per-coupon basis) when the coupon is outside its effective date range.</td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_CouponGracePeriod.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_CouponGracePeriod_dtd.txt">Validation DTD</td>
 </tr>
        <tr>
                <td> MAX_NUM_COUPON_FOR_ITEM </td>
                <td>Overridden rules are invoked(on a per-item basis) when the ratio of coupons applied to an item:quantity of the items is above the amount specified by a corresponding validation rule.</td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_CouponItemLimit.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_CouponItemLimit_dtd.txt">Validation DTD</td>
  </tr>
  <tr>
                <td>COUPON_ITEM_QTY </td>
                <td>This validation is invoked(on a per-coupon basis) when trigger items for an coupon are not present in sufficient quantity to allow the coupon. </td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_ItemQtyCondition.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_ItemQtyCondition_dtd.txt">Validation DTD</td>
</tr>
        
  <tr>
                <td>COUPON_MIN_PURCHASE </td>
                <td>This validation is invoked (on a per-coupon basis) when the order total (or total qualifying amount) is insufficient to allow the coupon. </td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_MinPurchaseCondition.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_MinPurchaseCondition_dtd.txt">Validation DTD</td>
</tr>
        
  <tr>
                <td>MAX_NUM_COUPON_FOR_ORDER </td>
                <td>Overridden rules are invoked (once per order) when the total number of coupons applied to the order is above the amount specified by a corresponding validation rule.</td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_CouponOrderLimit.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_CouponOrderLimit_dtd.txt">Validation DTD</td>
</tr>
        <tr>
                <td>COUPON_EXT_VAL_FAILED</td>
                <td>This validation is invoked (on a per-coupon basis) when the validateCoupon user exit disallows a coupon.</td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_ExternalValidation.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_ExternalValidation_dtd.txt">Validation DTD</td>
        
        </tr>
        <tr>
                <td>MUTUAL_EXCLUSIVITY</td>
                <td>This validation is invoked (on a per-coupon basis) when a coupon is disallowed by Mutual Exclusivity logic.</td>
                <td><a href="../../../../../XSD/HTML/YPM_Validation_MutualExclusivity.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/YPM_Validation_MutualExclusivity_dtd.txt">Validation DTD</td>
        
        </tr>
 </table>
 If multiple lines in the order applicable for specific discount as part one pricing rule then following is the priority in which the lines are chosen for giving discount.
        1. getUnitPrice descending order
        2. Extended Price descending order
        3. ItemUOM descending order
        4. Line Id ascending order if exits else in the order of lines in the input ascending order.
 </p>
 <br>
 <p>
  <!--- TABLE START --->
  <a name="xmltable"></a>
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
        <tr>
                <td COLSPAN=8 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
        <tr>
                <td><a href="../../../../../XSD/HTML/YPM_getOrderPrice_input.html">Input XML</a></td>
                <td><a href="../../../../../dtd/YPM_getOrderPrice_input_dtd.txt">Input DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YPM_getOrderPrice_output.html">Output XML</a></td>
                <td><a href="../../../../../dtd/YPM_getOrderPrice_output_dtd.txt">Output DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
        <tr>
                <td><a href="../../../../../../ERD/HTML/getOrderPrice_Flow.htm">getOrderPrice Flow</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
 <p><B>User Exits:</B> This API invokes the following user exits:
 <ul><a href="../../../ypm/japi/ue/YPMGetOrderPriceUE.html">com.yantra.ypm.japi.ue.YPMGetOrderPriceUE</a>
 <br><a href="../../../ypm/japi/ue/YPMGetItemPriceUE.html">com.yantra.ypm.japi.ue.YPMGetItemPriceUE</a>
 <br><a href="../../../ypm/japi/ue/YPMPricelistHeaderSelectionUE.html">com.yantra.ypm.japi.ue.YPMPricelistHeaderSelectionUE</a>
 <br><a href="../../../ypm/japi/ue/YPMPricelistLineSelectionUE.html">com.yantra.ypm.japi.ue.YPMPricelistLineSelectionUE</a>
 <br><a href="../../../ypm/japi/ue/YPMOverrideGetItemPriceUE.html">com.yantra.ypm.japi.ue.YPMOverrideGetItemPriceUE</a>
 <br><a href="../../../ypm/japi/ue/YPMValidateCouponUE.html">com.yantra.ypm.japi.ue.YPMValidateCouponUE</a>
 <br><a href="../../../ypm/japi/ue/YPMCalculateShippingChargeUE.html">com.yantra.ypm.japi.ue.YPMCalculateShippingChargeUE</a>
 <br><a href="../../../ypm/japi/ue/YPMOverrideGetOrderPriceUE.html">com.yantra.ypm.japi.ue.YPMOverrideGetOrderPriceUE</a>
 <br><a href="../../../ypm/japi/ue/YPMLoadCustomPricingRulesUE.html">com.yantra.ypm.japi.ue.YPMLoadCustomPricingRulesUE</a>
 <br><a href="../../../ypm/japi/ue/YPMRunCustomPricingRuleUE.html">com.yantra.ypm.japi.ue.YPMRunCustomPricingRuleUE</a>    
 </ul>
 <p><B>Events Raised:</B> None
 <p><B>Audits:</B> None
 <p><B>Pre-conditions:</B> None
 <p><B>Post-conditions:</B> None
 <p><B>Output Template Support:</B> Yes
 <p><B>Database Extensibility Support:</B> Yes
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
<br>
<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains the price of the order. For details on the output, refer to the associated 
<a href="#xmltable">output files</a>. 
<br>
</p></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes.  in the standard  <a href="#xmltable">error files</a>.</dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.
<br>
<br></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ypm/price/getLowestItemPrice.html" title="interface in com.yantra.api.ypm.price"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/ypm/price/validateCoupon.html" title="interface in com.yantra.api.ypm.price"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ypm/price/getOrderPrice.html" target="_top">Frames</a></li>
<li><a href="getOrderPrice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>

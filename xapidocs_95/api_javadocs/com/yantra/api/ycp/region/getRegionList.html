<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:12 EDT 2018 -->
<title>getRegionList (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="getRegionList (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ycp/region/getRegionDetails.html" title="interface in com.yantra.api.ycp.region"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/ycp/region/getRegionSchemaList.html" title="interface in com.yantra.api.ycp.region"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ycp/region/getRegionList.html" target="_top">Frames</a></li>
<li><a href="getRegionList.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.ycp.region</div>
<h2 title="Interface getRegionList" class="title">Interface getRegionList</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a>, com.yantra.api.YSCApi</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">getRegionList</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/ycp/region/getRegionList.html#getRegionList-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">getRegionList</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
             org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>getRegionList</code> API returns a list of Regions that satisfy input criteria such as <code>RegionLevel</code>, 
        <code>RegionSchemaKey</code>, <code>ZipCode</code>, <code>Country</code>, etc.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRegionList-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRegionList</h4>
<pre>org.w3c.dom.Document&nbsp;getRegionList(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                   org.w3c.dom.Document&nbsp;inXML)
                            throws com.yantra.yfs.japi.YFSException,
                                   java.rmi.RemoteException</pre>
<div class="block"><p>The <code>getRegionList</code> API returns a list of Regions that satisfy input criteria such as <code>RegionLevel</code>, 
        <code>RegionSchemaKey</code>, <code>ZipCode</code>, <code>Country</code>, etc.
        </p>

        <p>
        The API behaves in two different modes based on the input passed: 
        <ol>
                <li>When the input XML contains the <code>PersonInfo</code> node, the only input used from the root <code>Region</code> node are those used to identify a region schema (<code>RegionSchemaKey</code> or <code>OrganizationCode</code> + <code>RegionSchemaName</code>).  The API then searches in this Region Schema for the region that is the best match for the address passed. It then returns this region, as well as its parent regions. More details on how this "Best match by address" is found will be discussed below.
                <li>Otherwise, the attributes passed in the root node are used and only the regions that match the input critiera are returned (not their parent regions).  The regions returned can be from multiple Region Schemas and will be grouped as such in the output.
        </ol>
        <BR> 

        <B>Best Match By Address</B>:<BR>
                When <code>PersonInfo</code> is passed, the system will search for the region that is the best match for this address.  This search will be based on the <code>Country</code> of the address and its Region Match Preference.  This preference specifies what address field from the query address to use in searching for regions.  There are two categories of preferences: 1 - ZipCode, 2 - everything else.  For instance,
                <UL>
                        <LI><code>Country</code> = US, <code>AddressFieldAlias</code> = ZipCode
                        <LI><code>Country</code> = Canada, <code>AddressFieldAlias</code> = City
                </UL>
        The default <code>AddressFieldAlias</code> preference is ZipCode.<BR>
        <BR>
        Note: <code>QryType</code> is not supported for the <code>PersonInfo</code> element<br>
        <BR>
        <p>
                <B>Best Match by ZipCode</B><BR>
                For example, say there are two Regions defined in the system:
 a) <code>RegionKey</code> = <b><code>R1</code></b>, <code>Level</code> = <b><code>Country</code></b>, 
 <code>RegionSchemaName</code> = <b><code>Schema1</code></b>, <code>Country</code> = <b><code>US</code></b>
 <br> b) <code>RegionKey</code> = <b><code>R2</code></b>, <code>Level</code> = <b><code>City</code></b>, <code>RegionSchemaName</code> = <b><code>Schema1</code></b>, 
 <code>ParenRegionKey</code> = <b><code>R1</code></b>, <code>Country</code> = <b><code>US</code></b>, <code>FromZip</code> = <b><code>01320</code></b>, 
 <code>ToZip</code> = <b><code>01390</code></b>
 </p>
 <p>
 If a search is made for <code>Zipcode</code> = <b><code>01340</code></b> and <code>Country</code> = <b><code>US</code></b>, 
 the API returns two regions, R2 and R1. 
 Since R1 is a parent of R2, it can also service the <code>ZipCode</code> passed. If a search is made by passing Region
 <code>Level</code> = <b><code>City</code></b>, only R2 is returned.
 <br> 
 <br>The <code>ZipCode</code> passed in the input can have less digits than the actual zipcode (for example, <b><code>017</code></b> instead of <b><code>01720</code></b>).
 If <b><code>017</code></b> is passed as <code>Zipcode</code> in the input xml, the API returns a region than can service all the 
 zipcodes starting from <b><code>017</code></b>. Hence, a region having <code>FromZip</code> = <b><code>016ZZ</code></b> and 
 <code>ToZip</code> = <b><code>01800</code></b> will be returned by the API, since any <code>ZipCode</code> starting with <b><code>017</code></b> is completely serviced 
 by it. However, a region having <code>FromZip</code> = <b><code>01700</code></b> and <code>ToZip</code> = <b><code>01730</code></b> 
 will not be returned by the API, since it cannot completely service all the zipcodes starting from the <code>ZipCode</code> passed (that is, <b><code>017</code></b>). 
 <br> 
 <br>If multiple Regions (or multiple Region Details) can service a particular <code>ZipCode</code> passed in the input, 
 the following algorithm is used to find the best match among the regions:
 </p>
 <p>1. The number of digits in the <code>ZipCode</code> range should be equal to or closest to the number of digits present in 
 the <code>ZipCode</code> being searched.
 <br>2. If two Region Details have the same number of digits, the API compares the differences in the <code>FromZip</code> and <code>ToZip</code> fields 
 of each. The Region returned by the API will have the smallest difference (or range).
 <br>3. If the two Region Details have the same difference, the API compares the <code>FromZip</code> field of each region 
 with the <code>ZipCode</code> passed in the input. The Region that has <code>FromZip</code> closest to the <code>ZipCode</code> 
 being searched is selected.
 </p>
 <p>
 <br>The API sorts the <code>ZipCode</code> characters, present in the database, by treating them as <b>Unicode character strings</b>,
 and returns results accordingly. The output returns Regions satisfying the criteria and the parents of these Regions.<BR>
 
 <br>Based on a business rule, the output of this API will be filtered such that only those regions will be 
 retained for which the length of <code>FromZip</code> and <code>ToZip</code> is same as the <code>ZipCode</code> 
 passed in the input. The default value of this rule is false.  Please see the Distributed Order Management Configuration guide for more information.<BR>
                <BR>
                <B>Best Match by any other Address Field</B><BR>
                Given the following setup
                </p>
                <UL>
                        <LI>Region Match Preferences
                                <UL>
                                        <LI><code>Country</code> = <b><code>US</code></b>, <code>AddressFieldAlias</code> = <b><code>City</code></b>
                                </UL>
                        <LI>Region Levels
                                <UL>
                                        <LI><code>RegionLevelName</code> = <b><code>State</code></b>, <code>AddressFieldAlias</code> = <b><code>State</code></b>
                                        <LI><code>RegionLevelName</code> = <b><code>City</code></b>, <code>AddressFieldAlias</code> = <b><code>City</code></b>
                                </UL>
                        <LI>Regions
                                <UL>
                                        <LI><code>RegionKey</code> = <b><code>MA</code></b>, <code>RegionName</code> = <b><code>MA</code></b>, <code>RegionLevelName</code> = <b><code>State</code></b>
                                        <LI><code>RegionKey</code> = <b><code>Springfield_MA</code></b>, <code>RegionName</code> = <b><code>Springfield</code></b>, <code>RegionLevelName</code> = <b><code>City</code></b>, <code>ParentRegionKey</code> = <b><code>MA</code></b>
                                        <LI><code>RegionKey</code> = <b><code>IL</code></b>, <code>RegionName</code> = <b><code>IL</code></b>, <code>RegionLevelName</code> = <b><code>State</code></b>
                                        <LI><code>RegionKey</code> = <b><code>Springfield_IL</code></b>, <code>RegionName</code> = <b><code>Springfield</code></b>, <code>RegionLevelName</code> = <b><code>City</code></b>, <code>ParentRegionKey</code> = <b><code>IL</code></b>
                                </UL>
                        <LI>Query Address
                                <UL>
                                        <LI><code>City</code> = <b><code>Springfield</code></b>, <code>State</code> = <b><code>IL</code></b>, <code>Country</code> = <b><code>US</code></b>
                                </UL>
                </UL>
                <BR>
                When searching for a Region to service the query address above, the following algorithm is used to find the best match:
                <OL>
                        <LI>Find the Region Match Preference for the country <b><code>US</code></b> (<code>AddressFieldAlias</code> = <b><code>City</code></b>)
                        <LI>Take the city name for the address being queried ("<b><code>Springfield</code></b>"), and find a region where the <code>RegionName</code> = <b><code>Springfield</code></b> and <code>RegionLevelName</code> is one where its <code>AddressFieldAlias</code> = <b><code>City</code></b>
                                <UL>
                                        <LI>2 regions are found (<b><code>Springfield_MA</code></b>, <b><code>Springfield_IL</code></B>)
                                </UL>
                        <LI>For each region found, validate its parent regions against the query address
                                <UL>
                                        <LI><b><code>Springfield_MA</code></b> has a parent region, "<b><code>MA</code></b>" whose Region Level corresponds to AddressAliasField = <b><code>State</code></b>.
                                                <UL>
                                                        <LI>We match <b><code>Springfield_MA</code></b>'s parent region name, <b><code>MA</code></b>, against the state in the query, <b><code>IL</code></b>.  It does not match, thus, this is not a valid region.
                                                </UL>
                                        <LI><b><code>Springfield_IL</code></b> has a parent region, <b><code>IL</code></b> whose Region Level corresponds to AddressAliasField = <b><code>State</code></b>.
                                                <UL>
                                                        <LI>We match <b><code>Springfield_IL</code></b> parent region name, <b><code>IL</code></b>, against the state in the query, IL.  There is a match - this is a valid region.
                                                </UL>
                                </UL>
                        <LI>Once the parent regions are checked, for the remaining valid regions, the one with the most parent regions matching the query address is the "best" match (<b><code>Springfield_IL</code></b>).
                        <LI>This "best" match and all of its parent regions are returned in the output of this API ("<b><code>Springfield</code></b>", "<b><code>IL</code></b>").
                </OL>
                <BR>
                Note that in the above example, if the State regions were not defined in the configuration, either <b><code>Springfield_MA</code></b> or <b><code>Springfield_IL</code></b> and its parent regions could have been returned.
                <BR>
        </UL>
 
         
         
 <p>
  <!--- TABLE START --->
  <a name="xmltable"></a>
  <table summary="" BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">     
        <tr>
                <th COLSPAN=6 BGCOLOR="#EEEEFF"><b>Related Documents</b></th>
        <tr>
                <td> <a href="../../../../../XSD/HTML/YCP_getRegionList_input.html">Input XML</a></td>
                <td><a href="../../../../../dtd/YCP_getRegionList_input_dtd.txt">Input DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YCP_getRegionList_output.html">Output XML</a></td>
                <td><a href="../../../../../dtd/YCP_getRegionList_output_dtd.txt">Output DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
 <p><B>User Exits:</B> None
 <p><B>Events Raised:</B> None
 <p><B>Audits:</B> None
 <p><B>Pre-conditions:</B> None
 <p> <B>Post-conditions:</B> None
 <p> <B>Output Template Support:</B> Yes
 <p> <B>Database Extensibility Support:</B> Yes
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
 <p></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains a list of all regions meeting the input criteria.. For details on the output, refer to the associated 
         <a href="#xmltable">output files</a>.
 </p></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes in the standard  <a href="#xmltable">error files</a>.</dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.
 <br></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ycp/region/getRegionDetails.html" title="interface in com.yantra.api.ycp.region"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/ycp/region/getRegionSchemaList.html" title="interface in com.yantra.api.ycp.region"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ycp/region/getRegionList.html" target="_top">Frames</a></li>
<li><a href="getRegionList.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>

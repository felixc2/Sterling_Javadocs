<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:15 EDT 2018 -->
<title>receiveIntransitUpdates (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="receiveIntransitUpdates (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yantra/api/ydm/printPickList.html" title="interface in com.yantra.api.ydm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yantra/api/ydm/recordContainerActivity.html" title="interface in com.yantra.api.ydm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yantra/api/ydm/receiveIntransitUpdates.html" target="_top">Frames</a></li>
<li><a href="receiveIntransitUpdates.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.ydm</div>
<h2 title="Interface receiveIntransitUpdates" class="title">Interface receiveIntransitUpdates</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.YDMApi, <a href="../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">receiveIntransitUpdates</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yantra/api/ydm/receiveIntransitUpdates.html#receiveIntransitUpdates-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">receiveIntransitUpdates</a></span>(<a href="../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                       org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block"><code> receiveIntransitUpdates </code> is used to record the in transit status of a load.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="receiveIntransitUpdates-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>receiveIntransitUpdates</h4>
<pre>org.w3c.dom.Document&nbsp;receiveIntransitUpdates(<a href="../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                             org.w3c.dom.Document&nbsp;inXML)
                                      throws com.yantra.yfs.japi.YFSException,
                                             java.rmi.RemoteException</pre>
<div class="block"><p><code> receiveIntransitUpdates </code> is used to record the in transit status of a load. This information can in turn be used 
to update the shipment status. 
<br>
<br>This API provides ability to record load status when a load: 
<ul><li>Departs from the origin
<br><li>Arrives at the destination
<br><li>Is in transit
</ul>
     <br>This API can process two types of input information as follows: 
<ul><li>Transportation stop updates that correspond with an intermediate load stop where shipments are picked and/or dropped.
<li>Transportation updates that indicate the current load locations, codes, and so forth that don't involve any shipment pickup or drops. 
 For example, the Load can transmit information like "Reached Port A" and so forth. 
     </ul>
<br>
The transaction ID is assumed to be the transaction that corresponds with the base transaction RECEIVE_INTRANSIT_UPDATE in 
the load's pipeline. The transaction picks up loads in status created (1100), intransit (1200) and trailer loaded (1150). This transaction is capable of dropping the load into two base drop statuses - intransit (1200) and
complete (1300). Once the base drop status is determined (explained below), the load is dropped into a status as set up 
in the pipeline configuration, which would be either be the base status itself or an extension of the base status.
<br>
<br>Note: Transportation updates can be performed on the load irrespective of the load status (for example, even after it is in completed status (1300)),
since transportation updates can come in at physical locations other than the predetermined stops. Status checks on the load are performed only when updating predetermined load stop related information.
<br>
<br>
The processing logic of the API is as follows:
<ol><li> Determine the type of updates to be done from the input XML. 
     <br>For example, transportation updates are required if the input XML has &ltLoadStatusAudit&gt node with at least one attribute filled.
     <br>And Stop updates are required in any of the following situations:<ul>
<li>The input XML has LoadLeftOrigin="Y" or LoadReachedDestination="Y"
<li>The input XML has &LoadStop&gt node with at least one of the attributes (StopNode, StopAddressKey, LoadStopKey) filled
<li>The input XML has a node &ltStopAddress&gt 
</ul>
<br>Information regarding both kinds of updates can be passed simultaneously. An error will be thrown if it is determined that
neither transportation nor stop update information is available.
    
    Load_Stop information is identified as follows:<ol type=a>
<li>The LoadStopKey, if passed, is used to identify the YFS_LOAD_STOP record ignoring stop_node and stop_address_key information.</ul>
<li>If LoadStopKey is not passed, but the user passes LoadLeftOrigin="Y" or LoadReachedDestination="Y" ,
          then the information of either the stop_node or the stop_address_key, whichever is available on the YFS_LOAD table, is used
          to determine the YFS_LOAD_STOP record.
<li>If LoadStopKey is not available and stop_node is passed, then this is used for determining the YFS_LOAD_STOP, ignoring
          the stop_address information.</ul>
<li>If stop_node is also not available, then the stop_address information is used for determining the YFS_LOAD_STOP.
</ol>
     
<br><li>If transport updates are to be performed, then using the data passed in the &ltLoadStatusAudit&gt node, insert a record
in the YFS_LOAD_STATUS_AUDIT table. In essence, although there was no status change, status audit gets written for transport status updates, which are stored in the YFS_LOAD_STATUS_AUDIT table.
<br><li>Carry out input validations as detailed under Validations section.
<br><li>If ConfirmAllShipmentsForStop="Y" or LoadLeftOrigin="Y" or LoadReachedDestination="Y" (&ltShipmentsPickedUp&gt and
&ltShipmentDroppedOff&gt list is ignored), obtain a list of shipments picked up and dropped off at the load stop from 
the database. Otherwise, if ConfirmAllShipmentsForStop="N" and LoadLeftOrigin="N" and LoadReachedDestination="N", then the list of
shipments is as specified in the input XML under &ltShipmentsPickedUp&gt and &ltShipmentDroppedOff&gt list. For each shipment 
in the database that corresponds to the load stop, the following applies:
<ol type=a><li>Update YFS_LOAD_SHIPMENT.pickup_update_received if shipment is picked up from the stop and YFS_LOAD_SHIPMENT.dropoff_update_received 
if shipment is dropped off at the stop.</ul>
<li>Perform shipment confirmation updates if shipment is picked up from the shipment origin. See confirmShipment() API
for details. Perform delivery confirmation updates if shipment is dropped off at the shipment destination. See deliverShipment()
API for details.</ul>
<li>YFS_LOAD.actual_arrival_date and YFS_LOAD.actual_departure_date from the input XML. Update load status to 1300 (complete), 
if all shipments have been picked up from their source and dropped at their destination, including the intermediate stops. Otherwise, 
the load status is updated to 1200 - (in transit). Updating load status is carried out by the changeLoadStatus() API. 
&ltLoadStatusAudit&lt element is passed to the changeLoadStatus() API, which writes the load status change audit (YFS_LOAD_STATUS_AUDIT).</ul>
<li>Update YFS_LOAD_STOP.actual_departure_date from the input XML if load stop is the origin stop. 
Update YFS_LOAD_STOP.actual_arrival_date from the input XML if load stop is destination stop. 
YFS_LOAD_STOP.stop_reached is updated to indicate that updates have been received for the stop.</ul>
</ul></ol></ul></ol>
<br>
<b>Additional information:</b><ul>
<li>     Under normal circumstances, it is assumed that in transit status updates are received in the order of load stop sequence.
However, because of the reality of issues like delays associated with electronic transmission of data, 
it is quite possible that updates may not be received in sequence. In such circumstances, it is required that delivery updates 
be not done until updates have been received for all previous stops. In essence, although it is fair to expect the shipment 
delivery confirmation updates should take place at the shipment destination, it may happen only when the last of the load stop updates 
are received for the shipment.
<br><li>         confirmShipment() API is called when the shipment is picked up from its origin only if the updates have not
already been done. This is identified by YFS_SHIPMENT.shipment_confirm_updates_done.
<br><li>         If the load is a Break Bulk Load and LoadLeftOrigin="Y" then the API closes all the open manifests to which the shipments of the load belong.
<br><li>         Transaction corresponding to the base transaction DELIVER_SHIPMENT on the shipment's pipeline is an optional
transaction. The deliverShipment() API is invoked if the transaction is set up in the pipeline. The deliverShipment() API is called when the shipment is dropped off at its destination only if the updates have not
already been done. This is identified by YFS_SHIPMENT.shipment_deliver_updates_done.
<br><li>         Load status goes to intransit (1200) when the first update for a load stop is received. Load remains in intransit
status until all shipments on the load are picked up from their source and dropped off at their destination, including the intermediate
stops.
</ul>
<br>
<B>Validations:</B><ul>
<br><li>         One of LoadNo or LoadKey must be passed. This should point to a load that is in a status
pickable by the transaction corresponding to the base transaction RECEIVE_INTRANSIT_UPDATE in the
load's pipeline.
<br><li>         One of &ltLoadStop&gt node's attributes - LoadStopKey or StopNode or StopAddress must be passed 
     or &ltStopAddressNode&gt with all address details must be passed or LoadLeftOrigin="Y" or LoadReachedDestination=="Y",
     if stop updates are to be performed.If LoadLeftOrigin is "Y", then StopNode is YFS_LOAD.origin_node and 
     StopAddress is the address pointed by YFS_LOAD.origin_address_key. 
     If LoadReachedDestination is "Y", then StopNode is YFS_LOAD.destination_node and StopAddress is the address
     pointed by YFS_LOAD.destination_address_key.
<br>
All shipments listed under &ltShipmentsPickedUp&gt and &ltShipmentDroppedOff&gt must have an entry in YFS_LOAD_SHIPMENT
appropriately for pick_up_stop and drop_off_stop.
</ul></ol>
<br>
<br>
<!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=6 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
  <tr>
                <td> <a href="../../../../XSD/HTML/YDM_receiveIntransitUpdates_input.html">Input XML</a></td>
                <td><a href="../../../../dtd/YDM_receiveIntransitUpdates_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../XSD/HTML/YDM_receiveIntransitUpdates_output.html">Output XML</td>
                <td><a href="../../../../dtd/YDM_receiveIntransitUpdates_output_dtd.txt">Output DTD</td>
                <td><a href="../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->

<br>
<p> <B>User Exits:</B> None
<br>
<p><B>Events Raised:</B>
<br> &ltTransaction IDd&gt/ON_SUCCESS: For more information, see the associated files
<ul>
<br>Data published - <a href="../../../../XSD/HTML/YDM_RECEIVE_INTRANSIT_UPDATE.ON_SUCCESS.html">YDM_RECEIVE_INTRANSIT_UPDATE.ON_SUCCESS.xml</a>
<br>DTD - <a href="../../../../dtd/YDM_RECEIVE_INTRANSIT_UPDATE.ON_SUCCESS_dtd.txt">YDM_RECEIVE_INTRANSIT_UPDATE.ON_SUCCESS_dtd.txt</a>
<br>Key data - <a href="../../../../dbd/load_dbd.txt">load_dbd.txt</a>
<br><ul>Template Support: Yes
</ul>
</ul>
<br> However, note that the template name would read &ltTransaction ID&gt.ON_SUCCESS.xml. The XML and DTD depicted above
 represent the output that the abstract transaction <code>YDM_RECEIVE_INTRANSIT_UPDATE</code> transaction is capable of generating.
<br>
<p> <B>Audits:</B>
<br> If this node &ltLoadStatusAudit&gt is is passed with values for reason code, reason text, transportation status code and date these will be used 
to fill the appropriate fields in the audit record inserted in <code>YFS_LOAD_STATUS_AUDIT</code> table. StatusDate attribute is used to update new_status_date field in <code>YFS_LOAD_STATUS_AUDIT</code> table and 
also status_date field in <code>YFS_LOAD</code> table only when the load status changes, for example, from created (1100) to intransit (1200) and from instransit (1200) to completed (1300). 
<br>
<p> <B>Pre Conditions:</B> None
<br>
<p> <B>Post Conditions:</B> None
<br>
<p> <B>Output Template Support:</B> Yes
<br>
<p> <B>Database Extensibility Support:</B> Yes
<br>
<p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
<p></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains all the information about the load. For details on the output, 
 refer to the associated         <a href="#xmltable">output files</a>. 
<br>
</p></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing  error codes in the standard  <a href="#xmltable">error files</a>.</dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.
<br></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yantra/api/ydm/printPickList.html" title="interface in com.yantra.api.ydm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yantra/api/ydm/recordContainerActivity.html" title="interface in com.yantra.api.ydm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yantra/api/ydm/receiveIntransitUpdates.html" target="_top">Frames</a></li>
<li><a href="receiveIntransitUpdates.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>

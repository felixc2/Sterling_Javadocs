<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:16 EDT 2018 -->
<title>processOrderPayments (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="processOrderPayments (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/payment/processOrderCollection.html" title="interface in com.yantra.api.omp.payment"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/payment/recordCollection.html" title="interface in com.yantra.api.omp.payment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/payment/processOrderPayments.html" target="_top">Frames</a></li>
<li><a href="processOrderPayments.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.omp.payment</div>
<h2 title="Interface processOrderPayments" class="title">Interface processOrderPayments</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.OMPApi, <a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">processOrderPayments</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/omp/payment/processOrderPayments.html#processOrderPayments-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">processOrderPayments</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                    org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>processOrderPayments</code>() API is used to invoke the <code>requestCollection</code>() and <code>executeCollection</code>() APIs within a single API.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="processOrderPayments-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>processOrderPayments</h4>
<pre>org.w3c.dom.Document&nbsp;processOrderPayments(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                          org.w3c.dom.Document&nbsp;inXML)
                                   throws com.yantra.yfs.japi.YFSException,
                                          java.rmi.RemoteException</pre>
<div class="block">The <code>processOrderPayments</code>() API is used to invoke the <code>requestCollection</code>() and <code>executeCollection</code>() APIs within a single API.
        <BR><BR>
        The <code>requestCollection</code>() API will be invoked in a new transaction boundary and with a special condition - each Charge and Authorization request created will have UserExitStatus set to "ONLINE".  When <code>requestCollection</code>() is complete, it will return to <code>processOrderPayments</code>() and execute a commit in the new transaction boundary then close it.  Thus, even if an error is thrown after this point, the database will not rollback the changes made by <code>requestCollection</code>().
        <BR><BR>
        
        The <code>executeCollection</code>() API will then run with a special condition - if any Charge or Authorization request is not credited or authorized for the full request amount, the API will not continue to process any more requests and exit.
        <BR><BR>
        
        The records that are processed by the <code>executeCollection</code>() API will no longer have UserExitStatus set to ONLINE. However, if any requests remain unprocessed because some other request processed before it was only partially authorized or charged, it will remain with UserExitStatus set to ONLINE. Such records will not be picked up by the <code>executeCollection</code> agent (yfs.agent.<code>executeCollection</code>) for 1 hour from the time that it was created.
        <BR><BR>
        
        Once the <code>requestCollection</code>() and <code>executeCollection</code>() APIs have been invoked, <code>requestCollection</code>() will again be invoked, except in a mode that will only update the order related records - and not create additional requests. 
        <BR><BR>
        
        Optionally, the <code>processOrderPayments</code> API can additionally accept a list of PaymentMethods as its input.  This will call changeOrder within the new transaction boundary, before <code>requestCollection</code> is called, and update the payment methods on the order.  These changes will be saved on the order.  It is recommended that tokenization of primary account numbers be used, and that tokens be passed to this API instead of raw 
    primary account numbers.  Sterling Commerce provides an application called the Sterling Sensitive Data Capture Server to capture and tokenize 
    credit card or store value card primary account numbers. It is recommended that you review the Sterling Selling and Fulfillment Suite: 
    Secure Deployment Guide for Sterling's approach to meeting PCI PA-DSS requirements.  
        <BR><BR>
<p>
 <B> Business Validation</B>
 <p> Business Validation framework is invoked when a payment method is added/modified/deleted on an order or an OFFLINE charge transaction is being processed . Please refer to <a href="capturePayment.html" title="capturePayment API">capturePayment</a> for more details.

<p>
        
        <I>Note: This API cannot be used with any of the order modification APIs or any APIs that modify orders - either through events, multiApi calls or services.  Additionally if an order has pending changes, they will be automatically applied during API execution.</I>
        <BR><BR>
         <!--- TABLE START --->
  <a name="xmltable"></a>
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">        
        <tr>
                <td COLSPAN=6 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
        <tr>
                <td> <a href="../../../../../XSD/HTML/YFS_processOrderPayments_input.html"> Input XML</a></td>
                <td><a href="../../../../../dtd/YFS_processOrderPayments_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../../XSD/HTML/YFS_processOrderPayments_output.html">Output XML</td>
                <td><a href="../../../../../dtd/YFS_processOrderPayments_output_dtd.txt">Output DTD</td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
<br> <B>User Exits:</B> 
<br> Please refer to the following APIs for information regarding user exists.
<br><ul><li> <a href="../../../../../com/yantra/api/omp/payment/requestCollection.html">requestCollection</a>
<br><li> <a href="../../../../../com/yantra/api/omp/payment/executeCollection.html">executeCollection</a></ul>
<br> <B>Events Raised:</B> 
<br> Please refer to the following APIs for information regarding events.
<br><ul><li> <a href="../../../../../com/yantra/api/omp/payment/requestCollection.html">requestCollection</a>
<br><li> <a href="../../../../../com/yantra/api/omp/payment/executeCollection.html">executeCollection</a></ul>
<br> <B>Audits:</B> No.
<br>
<br> <B>Pre-conditions:</B>
<br> This API assumes order already available in the system. 
<br>
<br> <B>Post-conditions:</B> None.
<br>
<br> <B>Output Template Support:</B> Yes.
<br>
<br> <B>Database Extensibility Support:</B> No.
<br>
<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Environment handle returned by the <code>createEnvironment</code> API. This is a mandatory parameter.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
<br>
<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains details of the results of collection. For details on the output, refer to the associated  <a href="#xmltable">output xml files</a>.
<br><br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><b>YFSException</b></code> - Exception containing error codes in the standard  <a href="#xmltable">error files</a>.
<br></dd>
<dd><code><b>RemoteException</b></code> - Java's default remote exception handler.
<br>
<br>
<br></dd>
<dd><code>com.yantra.yfs.japi.YFSException</code></dd>
<dd><code>java.rmi.RemoteException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/payment/processOrderCollection.html" title="interface in com.yantra.api.omp.payment"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/payment/recordCollection.html" title="interface in com.yantra.api.omp.payment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/payment/processOrderPayments.html" target="_top">Frames</a></li>
<li><a href="processOrderPayments.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>

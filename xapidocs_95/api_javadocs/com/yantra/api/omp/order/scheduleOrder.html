<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:16 EDT 2018 -->
<title>scheduleOrder (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="scheduleOrder (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/reworkQuote.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/scheduleOrderLines.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/scheduleOrder.html" target="_top">Frames</a></li>
<li><a href="scheduleOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.omp.order</div>
<h2 title="Interface scheduleOrder" class="title">Interface scheduleOrder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.OMPApi, <a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">scheduleOrder</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/omp/order/scheduleOrder.html#scheduleOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">scheduleOrder</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
             org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>scheduleOrder</code> API schedules an order.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="scheduleOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>scheduleOrder</h4>
<pre>org.w3c.dom.Document&nbsp;scheduleOrder(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                   org.w3c.dom.Document&nbsp;inXML)
                            throws com.yantra.yfs.japi.YFSException,
                                   java.rmi.RemoteException</pre>
<div class="block"><p>The <code>scheduleOrder</code> API schedules an order. This process determines the <code>ShipNode</code> and organization 
from which to source an order, and the date that is possible to source the order.
Alternatively <code>scheduleOrder</code>  can also release the order if the order can be released.
<p> This is a hold type enabled transaction. If order has a hold type or any non-cancelled Order Line has hold type which has scheduling as 
one of the prevented transactions then order can not be scheduled. Error <i>OMP11037: Transaction is prevented when order is on hold type </i> is thrown.
 <p>
 The on-hand safety factor will be excluded from on-hand inventory availability based on the following logic when the <code>ApplyOnhandSafetyFactor</code> flag on the scheduling rule is set to <code><b>Y</b></code>.
 <ul>
 <li>If <code>OnhandSafetyFactorQuantity</code> or <code>OnhandSafetyFactorPercentage</code> is configured for the item, it will be excluded from the current availability of the item at the node with a node type that has <code>ApplyOnhandSafetyFactor</code> = <code><b>Y</b></code> for each requested node, tag, segment type and segment combination.  (Note: On-hand safety factor will only be applied to supplies with supply type that has a corresponding record in the YFS_INV_AVAIL_SAFETY_FACTOR table).</li>
 <li>Otherwise if on-hand supply type has a safety factor percentage configured, it will be excluded from the supplies with that supply type for the item at the node with node type that has <code>ApplyOnhandSafetyFactor</code> = <code><b>Y</b></code> for each requested node, tag, segment type and segment combination. </li>
 </ul>
 </p>
 <p>
 The future safety factor will be excluded from future inventory availability based on the following logic when the <code>ApplyFutureSafetyFactor</code> flag on the scheduling rule is set to <code><b>Y</b></code>.
 <ul>
 <li>If <code>FutureSafetyFactorPercentage</code> is configured for the item, it will be excluded from the current availability of the item at the node with a node type that has <code>ApplyFutureSafetyFactor</code> = <code><b>Y</b></code> for each requested node, tag, segment type and segment combination.  (Note: Future safety factor will only be applied to supplies with supply type that has a corresponding record in the YFS_INV_AVAIL_SAFETY_FACTOR table).</li>
 <li>Otherwise if future supply type has a safety factor percentage configured, it will be excluded from the supplies with that supply type for the item at the node with node type that has <code>ApplyFutureSafetyFactor</code> = <code><b>Y</b></code> for each requested node, tag, segment type and segment combination. </li>
 </ul> 
 </p>    
<br>
 <p>
 If <code>MinShipByDate</code> is specified on the order line with a time sensitive item, available supply with the <code>ShipByDate</code> earlier than the <code>MinShipByDate</code> will not be considered in the availability of the item.
 </p>     
<br> If a product line has any quantity reserved, <code>scheduleOrder</code> API will still check inventory and attempt to schedule against a better option. If a better option cannot be found <code>scheduleOrder</code> API will attempt to schedule against the reserved. 
 <p><b>Procurement Order Creation </b>
<blockquote><code>scheduleOrder</code> API can also generate Procurement Orders (Purchase or Transfer) Order when inventory is not available in the shipping location of choice. If procurement is allowed for this location, a procurement order can be created which is chained to the parent Order. Similarly, if some work needs to be done to fulfill an order, <code>scheduleOrder</code> api can generate work orders.  If <code>Create Chained Orders Synchrounously</code> flag is No, then schedule will not create procurement orders.  Schedule will reserve inventory by blocking inventory at the procurement and shipping nodes, but procurement order will be created by <code>createChainedOrder</code>.  Line will be in either Awaiting Procurement Purchase Order Creation or Awaiting Procurement Transfer Order Creation based on legal entity (see logic below).
<br>
<br> Procurement Purchase Order is created when the legal entity of the receiving node is different from the legal entity of the node from where procurement is happening. If the legal entities are the same, a Procurement Transfer Order is created. The <code>DocumentType</code> of the orders is configurable in the document params of the parent order. The parent order is dropped in status <code>ProcurementPOCreated</code> (2130) or <code>ProcurementTOCreated</code> (2160). Once the procurement order generated has been shipped, the parent order moves into <code>ProcurementPOShipped</code> (2130.01) or <code>ProcurementTOShipped</code> (2160.01) through a listener and then release transaction can be used to release the parent Order. Any cancellation on the parent order will try to cancel procurement order. If procurement order cannot be cancelled, no error will be thrown. If ProcurementOrder is cancelled, an attempt will be made to unschedule the parent order. If parent order cannot be unscheduled, then no error will be thrown. 
<br>
<br> The information from parent lines, populated into the chained lines, depends on the <code>ProcurementOrderDefaultTemplate</code>. The <code>ProcurementOrderDefaultTemplate</code> is based on OrderLine, and should not default values for attributes that are keys, such as OrderLineKey, OrderLineScheduleKey etc.
<br>
<br> For a Procurement Order, the <code>ReqDeliveryDate</code> on the orderline is the same as <code>ExpectedShipDate</code> of the parent order. Further, the Transit time between the two nodes is added to the  <code>ExpectedDeliveryDate</code> of the procurement order's line schedule. <code> ReceiptProcessingTime</code> is added to ExpectedDeliveryDate as mentioned above using the Business hours specified by Receiving calendar of the ship node(Ship node of the parent Order). If Shipping calendar is available for the receiving Node (Ship node of the parent Order), it is considered to check the first available date when parent order can be shipped and the date obtained becomes the <code>ExpectedShipDate</code> of the parent order's line schedule. The Expected Delivery Date for the parent order  line is then calculated considering the Transit time between the ShipTo and ShipFrom locations. The ShipTo address on the procurement order line is the address of the shipnode where the procurement order has to be shipped. Also Note , when a ProcureFromNode is stamped for an OrderLine, a procurement order is created at ProcureFromNode ,even when inventory is available in the ship node , For further information, please check the Concepts Guide.
<br>
<br>Note: Procurement Order creation is not supported for the components of the logical kit item.
</blockquote>
<p><b>Drop Ship Order Creation</b>
<blockquote>When <code>scheduleOrder</code> API determines to ship from a node that belongs
 to an external organization, which requires a separate purchasing document to be created,
 the status of the line will move to <code>Awaiting Chained Order Creation</code> (1600).
 When the Create Chained Order agent runs, a separate purchase order document will be
 created with the required information from the sales order.
</blockquote>
</p>
 <p>
<b>Work Order Creation</b>
<br>
<br>A work order is created when some task needs to be performed for fulfilling the order. Such tasks include:
<br>1. <i>Creating a Dynamic Physical Kit </i>
<br>If the order line contains a Dynamic Physical Kit Item (KitCode=<b>DPK</b>), then a work order will be created with a Service Item of the <code>ItemGroupCode</code>=<b>KIT</b>.The service Item will be picked up looking at the catalog. The parent order will be dropped in the status <code>Work Order Created</code> (2140). The Work Order created will have <code>OrderLineKey</code> stamped on it to show the parent order line. 
<br>If the work order is cancelled, the parent order line will be unscheduled. The parent order line cannot be directly unscheduled by calling <code>unscheduleOrder</code> api. If order line is cancelled, the following will be done:
<br>a) If the order line is cancelled by passing the reduced <code>OrderedQty</code>, an attempt would be made to cancel the work order for the same quantity. If work order cannot be cancelled, then an error would be thrown if the flag <code>Allow Cancellation Even If Work Order Cannot Be Cancelled</code> is set to <b>N</b>. Other wise no error would be thrown.
<br>b) If Order Line is cancelled by passing <code>Action=CANCEL</code> on the order line or header, then attempt would be made to cancel work order(s) associated to the line. Whatever quantity is cancelled from work order will be cancelled from the order line.
<br>
<br>2. <i>Creating a Made To Customer Work Order</i>
<br> If an Item requires customization for a particular Buyer or Customer and the supply of that item (with customization) is not available, a work order is created with a Service Item with <code>ItemGroupCode</code>=<b>COMPL</b>. The parent order in such a case is dropped in status <code>Scheduled</code> (1500). The work Order created can have Requested Quantity > Quantity of the parent order line based upon Run_Quantity field specified in the Inbound Compliance setup. Hence <code>OrderLineKey</code> of the parent is not stamped on the work order and the work order is not linked to the parent order. 
<br>Any cancellation on parent order will not result in cancellation of work order. Similarly, canceling the work order will not unschedule the parent order.
<br>
 <p>
<b>Payment Processing</b>
<br>
<br> If the <code>YFSCheckOrderBeforeProcessingUE</code> User Exit is not implemented, then the default handling is that the order cannot be scheduled unless the <code>PaymentStatus</code>  of the order is <code>AUTHORIZED</code>.  If the Payment Rule requires authorization but does not require authorization before scheduling, then this default check is bypassed.     
<br>
<br> If the Payment Rule on the order supports Delayed Reauthorization, the reauthorization date will be recomputed based on any release date changes made by the API.
<br>
<p>
  <!--- TABLE START --->
  <a name="xmltable"></a>
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">        
        <tr>
                <td COLSPAN=6 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
        <tr>
                <td> <a href="../../../../../XSD/HTML/YFS_scheduleOrder_input.html"> Input XML</a></td>
                <td><a href="../../../../../dtd/YFS_scheduleOrder_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
<p> See <a href="#AddInfo">Additional Information</a> to get information on how scheduling occurs.
<p> <b>User Exits:</B>
<ul> <a href="../../../yfs/japi/ue/YFSCheckOrderBeforeProcessingUE.html">com.yantra.yfs.japi.ue.YFSCheckOrderBeforeProcessingUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetDeliveryLeadTimeUE.html">com.yantra.yfs.japi.ue.YFSGetDeliveryLeadTimeUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetDistanceUE.html">com.yantra.yfs.japi.ue.YFSGetDistanceUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetDistanceForNodeListUE.html">com.yantra.yfs.japi.ue.YFSGetDistanceForNodeListUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/OMPDetermineBestMultiStopTransferUE.html">com.yantra.yfs.japi.ue.OMPDetermineBestMultiStopTransferUE</a></ul>
<ul> <a href="../../../ycm/japi/ue/YCMGetItemDetailsUE.html">com.yantra.ycm.japi.ue.YCMGetItemDetailsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetExternalInventoryForItemListUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryForItemListUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetExternalInventoryUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetAvailabilityCorrectionsUE.html">com.yantra.yfs.japi.ue.YFSGetAvailabilityCorrectionsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSConfirmAssignmentsUE.html">com.yantra.yfs.japi.ue.YFSConfirmAssignmentsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSBeforeSplitLineUE.html">com.yantra.yfs.japi.ue.YFSBeforeSplitLineUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetExternalResourcePoolCapacityUE.html">com.yantra.yfs.japi.ue.YFSGetExternalResourcePoolCapacityUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSDetermineChainedOrderForConsolidationUE.html">com.yantra.yfs.japi.ue.YFSDetermineChainedOrderForConsolidationUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/INVGetExternalSupplyUE.html">com.yantra.yfs.japi.ue.INVGetExternalSupplyUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetItemNodeCostForSourcingUE.html">com.yantra.yfs.japi.ue.YFSGetItemNodeCostForSourcingUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/INVGetSupplyCorrectionsUE.html">com.yantra.yfs.japi.ue.INVGetSupplyCorrectionsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetItemSubstitutesOverrideUE.html">com.yantra.yfs.japi.ue.YFSGetItemSubstitutesOverrideUE</a></ul>
<ul> <a href="../../../ycp/japi/ue/YCPGetNodeMinimumNotificationTimeUE.html">com.yantra.ycp.japi.ue.YCPGetNodeMinimumNotificationTimeUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetAvailabilityCorrectionsForItemListUE.html">com.yantra.yfs.japi.ue.YFSGetAvailabilityCorrectionsForItemListUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/INVGetDemandCorrectionsUE.html">com.yantra.yfs.japi.ue.INVGetDemandCorrectionsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/OMPProcessRoutingExternallyUE.html">com.yantra.yfs.japi.ue.OMPProcessRoutingExternallyUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/YFSGetExternalAvailabilityUE.html">com.yantra.yfs.japi.ue.YFSGetExternalAvailabilityUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/OMPGetExternalCostForOptionsUE.html">com.yantra.yfs.japi.ue.OMPGetExternalCostForOptionsUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/OMPGetSourcedFromNodesExternallyUE.html">com.yantra.yfs.japi.ue.OMPGetSourcedFromNodesExternallyUE</a></ul>
<ul> <a href="../../../yfs/japi/ue/OMPGetSourcingCorrectionsUE.html">com.yantra.yfs.japi.ue.OMPGetSourcingCorrectionsUE</a></ul>
<p> <b>Events Raised:</B>
<br> ON_RELEASE_CREATION_OR_CHANGE -  Raised once for every release created or modified.
<br> Key Data: <a href="../../../../../dbd/modifyRelease_dbd.txt">modifyRelease_dbd.txt</a>
<br>Data Published: <a href="../../../../../XSD/HTML/YFS_SCHEDULE.ON_RELEASE_CREATION_OR_CHANGE.html">ON_RELEASE_CREATION_OR_CHANGE</a>
<br>Template Support: Yes.  Template filename: <code>SCHEDULE.ON_RELEASE_CREATION_OR_CHANGE.xml</code>
<p> ON_SUCCESS
<br> Key Data: <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> and <a href="../../../../../dbd/modifyLine_dbd.txt">modifyLine_dbd.txt</a> and <a href="../../../../../dbd/modifyRelease_dbd.txt">modifyRelease_dbd.txt</a>
<br>Data Published: <a href="../../../../../XSD/HTML/YFS_SCHEDULE.ON_SUCCESS.html">ON_SUCCESS</a>
<br>Template Support:
Yes. Some of the elements and attributes are not template driven. Refer to xml input for element level details.
<br> Template filename: <code>SCHEDULE.ON_SUCCESS.xml</code>
<p> ON_BACKORDER Raised if <code>scheduleOrder</code> backorders.
<br> Key Data: <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
<br>Data Published: <a href="../../../../../XSD/HTML/YFS_SCHEDULE.ON_BACKORDER.html">ON_BACKORDER</a>
<br>Template Support: Yes.  Template filename: <code>YFS_SCHEDULE.ON_BACKORDER.xml</code>
<br>ON_AWAITING_RESERVATION_ACCEPTANCE: <ul>This event is raised for each status on order.
Data published - <a href="../../../../../XSD/HTML/YFS_SCHEDULE.ON_AWAITING_RESERVATION_ACCEPTANCE.html">YFS_SCHEDULE.ON_AWAITING_RESERVATION_ACCEPTANCE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> </ul>
<br>Template Support:
<br>Yes.
<p> ON_CANCEL. - Raised if <code>scheduleOrder</code> cancels.
<br> Key Data: <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
<br>Data Published: <a href="../../../../../XSD/HTML/YFS_SCHEDULE.ON_CANCEL.html">ON_CANCEL</a>
<br>Template Support: Yes. Template filename: <code>YFS_SCHEDULE.ON_CANCEL.xml</code>
<br>ON_ORDER_RELEASE_STATUS_CHANGE:<ul>This event is raised when an order release status is changed for the order. 
<br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.html">YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> </ul> 
<p><b>Template Support:</b>
<br>Yes.

<br>*Following events are raised under transaction INVENTORY_COST_CHANGE. 
<br>INVENTORY_COST_CHANGE:<ul>On any given purchase order, this event is raise upon successful cost change to each scheduled line.
<br>Data published - <a href="../../../../../XSD/HTML/YFS_SCHEDULE_ORDER.INVENTORY_COST_CHANGE.html">YFS_SCHEDULE_ORDER.INVENTORY_COST_CHANGE</a>
<br>Key data - <a href="../../../../../dbd/INVENTORY_CHANGE_INVENTORY_CHANGE_dbd.txt">YFS_SCHEDULE_ORDER.INVENTORY_COST_CHANGE</a></ul> 
<p><b>Template Support:</b>
<br>Yes.

<p> Raised under the transaction CAPACITY_CHANGE
<ul>ON_STD_CAPACITY_FILLED:
 <ul>Raised when consumption exceeds standard capacity defined for the day.<br>
 Data Published: <a href="../../../../../XSD/HTML/INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html">INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html</a><br/>
 Template Support: Yes<br/>
 Configuration Required for backward compatibility: No<br/>
 </ul></ul>
<ul>ON_STD_CAPACITY_FREED:
 <ul>Raised when consumption is freed and standard capacity becomes available for the day.<br>
 Data Published: <a href="../../../../../XSD/HTML/INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FREED.html">INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FREED.html</a><br/>
 Template Support: Yes<br/>
 Configuration Required for backward compatibility: No<br/>
 </ul></ul>
 <ul>EXTERNAL_CAPACITY_CHANGE:
 <ul>This event is raised when capacity consumptions are changed.
 <br>Data published: <a href="../../../../../XSD/HTML/YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.html">YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.xml</a>
 <br>Template Support: Yes
 </ul>
 </ul>
      <p> Raised under the transaction INVENTORY_CHANGE
<ul>INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE:
 <ul>Raised when there is a demand update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html</a><br/>
 Template Support: Yes<br/>
</ul></ul>       
<ul>INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE:
 <ul>Raised when there is a supply update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html</a><br/>
 Template Support: Yes<br/>
 </ul></ul>


<p> <b>Audits:</B> Audit generated will have the Schedule Reason Failure Code stampded on the order line if schedule fails
<p> <b>Pre-conditions:</B> None
<p> <b>Post-conditions:</B> None
<p> <b>Output Template Support:</B> No
<p> <b>Database Extensibility Support:</B> No
<p> <b><a name="AddInfo"</a> Additional Information</B>
         
 * <br>The rules of the Enterprise determine how scheduling of an order occurs. The following describes some of the key
 relationships in scheduling processing.
<p>  <b>DistributionRuleId</b>
 <br>Scheduling always considers the <code>DistributionRuleId</code> on the <code>OrderLine</code> if it is passed.
<p>  <b>Scheduling Rules </b>
<ul> <i>ShipCompleteFlag</i>
<br> If the <code>ShipCompleteFlag</code> is <b><code>Y</code></b>, scheduling ensures that the complete order gets scheduled in a 
 single run of the schedule. If part of the order cannot be scheduled, then the complete order is backordered.
 The order can be scheduled across multiple ship nodes.
 Using the <code>ShipCompleteFlag</code> has advantages over passing <code>FillQuantity</code> = <code>OrderedQuantity</code>  
 for all the <code>OrderLines</code>. If <code>FillQuantity</code> = <code>OrderedQuantity</code>  
 for all the <code>OrderLines</code> is passed, all  sourcing is done from a single ship node for a single date. 
 Using the <code>ShipCompleteFlag</code>, the sourcing can be done from multiple ship node and date combinations. </ul>
<p><ul> <i>LineShipCompleteFlag</i>
<br>If the  <code>LineShipCompleteFlag</code> is <b><code>Y</code></b>, scheduling ensures that the complete line gets scheduled in a  single run of the schedule. If the line cannot be scheduled, then <i>only</i> that line is backordered.
</ul>
<p><ul> <i>ShipSingleNodeFlag</i>
<br>If the <code>ShipSingleNodeFlag</code> is <b><code>Y</code></b>, scheduling ensures that available quantity is scheduled from a single node date combination in a single run of the schedule.  If node is manually changed afterwards, 
 new (unscheduled) quantity will be scheduled against a new node.
</ul>
<p><ul> <i>ShipLineSingleNodeFlag</i>
<br>If the <code>ShipLineSingleNodeFlag</code> is <b><code>Y</code></b>, scheduling is the same as described in <code>ShipSingleNodeFlag</code>, <i>except</i> the constraint is applied for individual lines.
</ul>
<p>  <b>Line Item Dependency </b>
<br>Lines can be designated as <code>ShipTogether</code> or <code>DeliverTogether</code>.
<p><code>ShipTogether</code>: All lines marked as <code>ShipTogether</code> are shipped from the same ship node on the same date.  Each line  meets the <code>FillQuantity</code> criteria specified for each ship node and date combination. If <code>FillQuantity</code> is specified as <b><code>0</code></b>, the <code>ShipTogether</code> parameter is meaningless and is ignored. 
<br><code>DeliverTogether</code>: When lines have a value of <code>DeliverTogether</code>, a merge node is used as a consolidation point. Scheduling ensures all lines marked as <code>DeliverTogether</code> meet the minimum <code>FillQuantity</code> criteria. If any line does not meet the criteria, none of the lines in the set is scheduled.
<p>  <b>Fill quantity </b>
 <br><code>FillQuantity</code> specifies the minimum quantity that must be scheduled from a single ship node and date combination to make a shipment. If the required <code>FillQuantity</code> is not met for a single ship node and date combination, the fill quantity is not scheduled.
<p>  <b>Auto Schedule to a Future Date </b>
<br>The <code>AllowedShipmentDelayDays</code> parameter in the Scheduling rule specifies the number of days a line can be delayed automatically if the line cannot be scheduled on the specified delivery date.
<br> For a Delivery or a Provided       Service line, the paramter used is ServiceSearchWindow as specified in the allocation rules.
<p>  <b>Schedule Lead Time</b>
 <br><code>ScheduleLeadTime</code> is the time period in days that the order can be scheduled before the ship date.
 <p>  <b>Reprocess Interval for Backordered Hours</b>
 <br>The value configured as back order wait period in the scheduling rule determines the number of hours after which Schedule can reprocess a backordered or unscheduled order.  If the back order wait period is less than 30 minutes, 30 minutes will be used.  
 <p>  <b>Retry Schedule time For Product Line</b>
 <br>Specifies the time after which schedule tries to pickup a Product OrderLine if it is not ready for scheduling yet.
 <p>  <b>Retry Schedule time For Service Line</b>
 <br>Specifies the time after which schedule tries to pickup a Provided Service or Delivery Line if it is not ready for scheduling yet.
<p>  <b>Cancel Order for Inventory Shortage</b>
<br>If <code>CancelOrderforInventory</code> Shortage is set to <b><code>Y</code></b>, the line is canceled if there is inventory shortage. If set to <b><code>N</code></b>, the line is backordered if there is inventory shortage.
<p>  <b>Selection of Ship Node based on line level DistributionRuleId </b>
<br>Which ship node is selected for scheduling can be controlled by specific <code>DistributionRuleIds</code>. If a distribution rule is setup to include organizations keeping inventory externally, <a href="../../../yfs/japi/ue/YFSGetExternalInventoryForItemListUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryForItemListUE</a> or <a href="../../../yfs/japi/ue/YFSGetExternalInventoryUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryUE</a> user exit is called to fetch the information.
<p>  <b>Node/Item combination with incorrect inventory picture.</b>
<br>When looking up inventory availability for scheduling, supplies and demands of the Item/Node combinations that are being marked as having incorrect inventory picture will not be considered. 
 This will only matter for non-reserved quantities on the order lines.  For any reserved quantities, inventory availability will be determined irrespective of incorrect inventory picture.
 If the USE_FUTURE_SUPPLY_OF_INVENTORY_CONTROL_NODE rule is set to Y, future inventory supply of nodes, which are being marked as having incorrect inventory picture, will be considered.     
<p>  <b>Use Single Node For Line Fulfillment.</b>
<br> This rule, set at Enterprise and Document Type level, determines if the Product Line is to be shipped from a single node only. Unlike the flag present in scheduling rule, this flag does not mandate that line must be shipped completely. i.e The line does not have to be scheduled completely in one run. The quantity that cannot be scheduled is backordered.
 If set to <b>Y</b>, the order line can be:
 a) Split into two or more lines.
 b) Backordered to a node which is the best choice for fulfilling this line.
 c) The node found by schedule transaction, which can completely fulfill this line, will be stamped on the order line also  if this flag is set to <b>Y</b> and if the node on the order line is not a firm node.
<p>  <b>Split On Backorder of Line With Firm Predefined Node.</b>
<br>This rule only applies when the <code>Use Single Node For Line Fulfillment</code> rule is set to Y and the line contains a ship node with <code>IsFirmPredefinedNode</code> flag set to <b>Y</b>. Schedule order will split any line that is being partially scheduled when the above mentioned flags are set. 
<p>  <b>Split On Backorder of Line Without Firm Predefined Node.</b>
<br>This rule also only applies when <code>Use Single Node For Line Fulfillment</code> rule is set to Y. Further the line should either have no ship node specified on it or should have <code>IsFirmPredefinedNode</code> flag set to <b>N</b>. Schedule order will split any line that is being partially scheduled when the above mentioned flags are set. The portion being backordered will be split into a new line.
<p>  <b>Backorder Line to Highest Priority Ship Node</b>   
     This rule is applicale only if <code>Use Single Node For Line Fulfillment</code> is set to <b>Y</b>. If inventory is not available on any single node and the node present on the order line (if any) is not a Firm Predefined node, then scheduleOrder api ties to select an alternate ship node on which this line ( or the split portion of this line) can be backordered. This is achieved by making a <code>findInventory</code> api call internally without checking inventory to find the node with highest priority based upon sourcing setup. The new node is stamped on the order line if the line is completely backordered. If the line can be partially scheduled and splitting of line is allowed, the new node as found above will be stamped on the schedule records of the backordered statuses. The original line will then be split into a new line with the backordered statuses being part of the new line. The new line created after splitting will be stamped with the new node found. If the order line is completely backordered, tn the highest priority ship node found above is stamped on the order line also. Similarly, when the backordered component is split into a new line, the new line will also have the highest priority shipnode stamped on it.
<p><b>Calculation of ExpectedShipDate and ExpectedDeliveryDate </b>
 <br><code>ExpectedShipDate</code> and delivery dates are calculated based on inventory availability and ship node assignments.
 An order line could get scheduled to ship on multiple dates.
Ship node assignments and expected dates are stored <code>YFS_ORDER_LINE_SCHEDULE</code> table.
<p>  <b>Customer Scheduling Preferences</b>
<br> The following constraints can now be defined and used by souring: Ship Complete, Ship Line Complete, Ship Single Node, Ship Line Single Node.  Most restrictive rule between scheduling rule and customer constraints will be applied.  
<code>Allow Drop Ship Chained Order Creation</code> can also be specified in customer scheduling constraints.  If this flag is <code>N</code>, then option with drop ship will not be considered.  Also <code>Cancel Line On Backorder</code> can be specified
in customer constraints.  If either customer constraint or scheduling rule has this flag as <code>Y</code> and quantity backorders, backordered quantity will be cancelled.  All of the constraints above can be overridden if passed on
the order.
<p>  <b>Cost Based Scheduling </b>
<br> While scheduling if landed cost is used and optimizing on cost, option with the least cost will be selected.  Cost will consist of item cost, handling cost, procurement cost, and transportation cost.
Item cost can be computed internally using Average Cost Method with Replacement Cost Computation or externally.  Handling and Transportation cost will be computed internally based on weight, distance, 
and quantity.  Transportation to customer will be computed using routing functionality.  If all nodes are known prior to scheduling, cost will not be computed, since it will not change the output.  Additionally node priority will contribute to total cost.  Node's priority will be multiplied by <code>Node Priority Cost Factor</code> to obtain additional cost.
<p>  <b>Forwarding/Transfers </b>
<br> Forwarding options will be considered by scheduling when optimizing on cost.  Forwarding location will be determined by either specifying it on the line or using routing configuration.  Dates
will be computed to reflect forwarding.  Date computation is similar to Procurement date computation, but instead of Receipt Processing Time, Forwarding Processing Time will be used.  Also if forwarding location is determined using routing, it will be populated on order line schedule as <code>Merge Node</code>.
In cases when minimizing cost, transfers (which are modelled as procurements) will be considered to minimize number of shipments.  In such cases if specified relationship type exists between
any two shipping nodes currentlly being looked at, transfer will be used if it minimizes number of shipments to the customer.
<p>  <b>Use Of Routing Guide In Sourcing </b>
<br> When scheduling based on cost and/or forwarding routing will be used to determine cost based on carriers.  Also routing will be used to determine forwarding (break-bulk) location.  In order to use
routing, schedule will dynamically generate shipment structures based on the release consolidation configuration.  All lines that meet release consolidation criteria will be considered to be a single 
shipment.  Internally <a href="../../ydm/determineRouting.html">determineRouting</a> api will be called.  
<p>  <b>Rescheduling </b>
<br> If line or order modifications are allowed after line has been scheduled, it might be required to reschedule the line after the changes.  In order to reschedule the following should be configured through hold functionality:
<br> 1.  Configure Hold Type
<br> 2.  Under Hold Resolution, configure ScheduleOrder transaction to process the hold.
<br> 3.  Configure ReleaseOrder and CreateChainedOrder tranasactions to be stopped 
 from processing the orders which are on this hold. 
<br> 4.  Configure required modifications types to put order on this hold, whenever they occur.
<br> Whenever scheduleOrder runs and determines that order is on hold, which it has to resolve, 
 it will reschedule the order and remove the hold. Order Line level hold types are not supported 
 for rescheduling. Only quantities that are in a status less than 2100 and not 1600 
 will be rescheduled. 
<p>  <b>Substitutions </b>
<p>An item can require either regular or preferred substitute.  If configured to do so at the item, scheduleOrder will perform substitution in the following order based on availability: first it will attemp to schedule against preferred substitute, then original item,
then regular substitute.  Substitution will be used only when substitution item associations configured with quantity 1 and the same unit of measure as original item in the catalog.  Also only one preferred and origional item will be used for substitution (one with highest priority).
Additionally substitutes can be procured from other nodes if inventory is not available at the shipping node.  scheduleOrder will never schedule partially against two substitutes or one substitute and original item.  Inventory will be updated based on the fulfilled item.
<p>  <b>Bundles </b>
<br>If order line being scheduled is a bundle, scheduleOrder will not schedule its parent, but will schedule its components.  Components will be scheduled based on Bundle Fulfillment Mode.  If mode is Ship Together, components will be scheduled from the same node-date combination in ratio.  However,
components can be independetly procured from different nodes out of ratio.  If mode is not Ship Together, components will be shipped independently as they were regualar lines.  If component is out of ratio as result of cancellation or incomplete backorder, then it will be treated as an independent line.
<p>  <b>Reserving By scheduleOrder </b>
<br>   If line cannot be scheduled due to some constraints, it might be desired to reserve the line if some inventory is available.  If configured to do so, scheduleOrder will attempt to reserve the line by ingoring the following constraints:
<br>  Schedule Bundle In Ratio - components will be reserved out of ratio, possibly against multiple nodes.
<br>  Ship Complete or FillRatio - available inventory will be reserved, remaining quantity will be backordered. 
<br>    Additionally if product line is part of the work order, line will be reserved whenever there is no appointment, appointment is in the past, or product availability is beyond taken appointment.
<br>
<p>  <b>Status Handling </b>
<br>The following are the output status of this transaction:
 <ul>
<br><b><code>1140</code></b> - <i>Reserved Awaiting Acceptance</i> 
<br><b><code>1200</code></b> - <i>Reserved</i> 
<br><b><code>1300</code></b> - <i>Backordered</i>
<br><b><code>1500</code></b> - <i>Scheduled</i> 
<br><b><code>1600</code></b> - <i>Awaiting Chained Order Creation</i>
<br><b><code>2030</code></b> - <i>Awaiting Procurement Transfer Order Creation</i>
<br><b><code>2060</code></b> - <i>Awaiting Procurement Purchase Order Creation</i>
<br><b><code>2130</code></b> - <i>Procurement Purchase Order Created</i>
<br><b><code>2140</code></b> - <i>Work Order Created</i>
<br><b><code>2160</code></b> - <i>Procurement Transfer Order Created</i>         
<br><b><code>3200</code></b> - <i>Released</i>   
 </ul>
<p>  <b>Ship Node Priority </b>
<br>Ship node priorities are determined based on the <code>DistributionRuleId</code> used.
If the <code>AllocationRule</code> used has <code>UseGeography</code> set to <b><code>Y</code></b> the following logic is applied to obtain the ship node priority:
<ul><br><code>(ShipNodePriority * AllocationRule.WeightByDistribution) + ((Distance between ship node and delivery location) * AllocationRule.WeightByGeography)</code></ul>
     </ul>
<p><b>Matching OrderLines</b>
<br>A new release is determined by comparing attributes of the OrderLines to the input XML based on Release Consolidation Template. If an OrderLine contains values for the following attributes that match values for these attributes on an OrderLine in a currently existing release for the same order, the release is consolidated.
 <p><b>Global Trade Item Number (GTIN)</b>
 <br>When availability is read across items sharing same <b>GTIN</b>, selling item is not replaced with additional item when inventory of additional item is used during <code>schedule</code> mode, whereas it is replaced during <code>ScheduleAndRelease</code> mode.
 </p> 
 <p><b>Node Notification</b>
 <br>The earliest date an item can be expected to ship is based on the minimum
 notification time configurable at the item, classification, or node levels. The
 <code>NodeNotification</code> that matches todays date will determine which 
 minimum notification time for the node will be used. The largest between the
 item and node will be used for minimum notification time. If there aren't any
 <code>NodeNotificationSchedule</code>s defined for the node, the minimum 
 notification time will be applied to today's date based on the node's shipping
 calendar. If there is a <code>NodeNotificationSchedule</code>, the minimum
 notification time will be applied to the next notification time using the
 node's shipping calendar.
 
 <p><b>Node Capacity</b>
 <blockquote>See <code><a href="../promising/findInventory.html">findInventory</a></code> API for more information 
 about sourcing, availability, optimizations, etc. 
 based on node capacity. If a resource pool for a particular node is defined for purpose <code>INVENTORY</code>
 then consumptions will be placed for the resource pool's capacity UOM. If capacity is based on 
 <code>RELEASE</code>, then 1 quantity for each potential release will be
 added in consumption. This is based on the release consolidation template defined for
 the order. If quantity is scheduled and can be consolidated with existing scheduled
 quantity, then consumption will not increase. If capacity is based on <code>UNIT</code>, then for each ordered 
 quantity a consumption will be created for the order.
 </blockquote>
 <p>For more information, refer to the 
 <a href="../promising/findInventory.html"><code>findInventory</code></a> API.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>. 
<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null
<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes in the standard  <a href="#xmltable">error files</a>.
<br></dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/reworkQuote.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/scheduleOrderLines.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/scheduleOrder.html" target="_top">Frames</a></li>
<li><a href="scheduleOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>

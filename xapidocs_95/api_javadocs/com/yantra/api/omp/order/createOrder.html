<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Mar 14 15:17:16 EDT 2018 -->
<title>createOrder (IBM Sterling Dev java docs)</title>
<meta name="date" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="createOrder (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 9.5</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/createDiscrBasedAdjustmentInvoice.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/createOrderFromMasterOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/createOrder.html" target="_top">Frames</a></li>
<li><a href="createOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yantra.api.omp.order</div>
<h2 title="Interface createOrder" class="title">Interface createOrder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.OMPApi, <a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">createOrder</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/omp/order/createOrder.html#createOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">createOrder</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
           org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>createOrder</code> API registers an order in the database.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createOrder</h4>
<pre>org.w3c.dom.Document&nbsp;createOrder(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                 org.w3c.dom.Document&nbsp;inXML)
                          throws com.yantra.yfs.japi.YFSException,
                                 java.rmi.RemoteException</pre>
<div class="block"><p>The <code>createOrder</code> API registers an order in the database.
 The <code>createOrder</code> API performs the following tasks:<ul>
 <li>Validation of the input XML</li>
 <li>Calculates and updates computed fields</li>
 <li>Determines which Pipeline to use for each order line</li>
 <li>Updates Inventory, Pricing and Payment </li>
 <li>Registers Process, and supply and demand, if applicable </li>
 </ul>
          <p>An <code>Order</code> is created with one or more <code>OrderLines</code>.
 These <code>OrderLines</code> can represent products, deliveries, and services.
 The creation of an <code>Order</code> can draw many sources of information, including:
 <ul><li>Templates associated with the document type</li>
 <li>Rules associated with the Enterprise, Buyer, Seller, and ShipNodes</li>
 <li>Values supplied in the Order element, or in the OrderLine</li>
 <li>UserExit processing</li>
 </ul>
 <p>Because the value of an attribute within an order can be established through 
 calculations and defaults based on many attributes, consult the input XML description
 for detail information about particular elements and attributes.
 <p> An orderline can be marked to create with reservation only. For such an orderline, if sufficient inventory is not available, the line is not created and is present in the output as UnProcessed Line in the UnProcessedLines Node of the api output.
 <p>
 <p> A Quote is always created with DraftOrderFlag=Y.
 <p>
 <B> Business Validation</B>
 <p> Business Validation framework is invoked when normal business rules needs  be overridden for the order to proceed. 
 <ul>
 <li>If the current transaction meets any such business condition, then the override framework is invoked to evaluate the 
 override rules setup for the following validations: </li>
 </ul>
   
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=5 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Information <b></font></td>
  <tr>
                <td>MANUAL_PRICE_OVERRIDE </td>
                <td>This validation is invoked when the Manual discounts/price exceeds certain percentage of an item's price. </td>
                <td>ErrorCode: OMP921_MO10 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_ManualPriceOverride.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_ManualPriceOverride_dtd.txt">Validation DTD</td>
 </tr>
        <tr>
                <td> NEGATIVE_ORDER_TOTAL </td>
                <td>This validation is invoked when the order grand total is  negative.</td>
                <td>ErrorCode: OMP921_MO11 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_NegativeOrderTotal.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_NegativeOrderTotal_dtd.txt">Validation DTD</td>
  </tr>
  <tr>
                <td>NEGATIVE_LINE_TOTAL </td>
                <td>This validation is invoked when the orderLine total is negative. </td>
                <td>ErrorCode: OMP921_MO12 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_NegativeOrderlineTotal.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_NegativeOrderlineTotal_dtd.txt">Validation DTD</td>
</tr>
        
  <tr>
                <td>ITEM_NOT_ON_FILE </td>
                <td>This validation is invoked when the Item is not found on the file/catalog. </td>
                <td>ErrorCode: OMP921_MO13 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_ItemNotOnFile.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_ItemNotOnFile_dtd.txt">Validation DTD</td>
</tr>
        
  <tr>
                <td>MAX_QUANTITY_LIMIT </td>
                <td>This validation is invoked when Item quantity in an order exceeds max order quantity.</td>
                <td>ErrorCode: OMP921_MO14 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_MaxQuantityLimit.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_MaxQuantityLimit_dtd.txt">Validation DTD</td>
</tr>
        <tr>
                <td>AGE_VERIFICATION</td>
                <td>This validation is invoked when an order have an item which requires age verification.</td>
                <td>ErrorCode: OMP921_MO15 </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_AgeVerification.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_AgeVerification_dtd.txt">Validation DTD</td>
        
        </tr>
 </table>
 <p>
 <ul>
 <li>If a payment method on order is added/modified/deleted, then the validation framework is invoked to evaluate the 
  rules setup for the following validations: </li>
 </ul>
 <p>
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=5 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Information <b></font></td>
        <tr>
                <td>TENDER_LIMIT</td>
                <td>This validation is invoked whenever a valid payment method is added to an order or removed from an order or suspended. It defines the total amount of payment methods that can be placed on an order by <code>PaymentType</code> and <code>PaymentCardType</code>.</td>
                <td>ErrorCode: NONE </td>
                <td><a href="../../../../../XSD/HTML/OMP_Validation_TenderLimit.html">Validation Input XML  </td>
                <td><a href="../../../../../dtd/OMP_Validation_TenderLimit_dtd.txt">Validation DTD</td>
        
        </tr>
 </table>
 <p>
 <ul>
 <li>Minimum and maximum order quantity validations for ordered item are applied on confirmed orders and orders being confirmed.</li>
 </ul>
 <p>
 <B> Business Validation Address Usage</B>
 <p>In cases where Business Validation will take effect, the addresses passed on the order will be used in determining what Business Validation Rules
 are applicable. Only one address will be used to determine what rules apply, but this address will vary based on the customer type and what addresses have been passed on the order.
 The Customer Types and Hierarchy of Addresses to be used (falling back down the hierarchy to other addresses if the preferred address is not present) are listed below:
 <ul>
 <li>For B2B Customers: SoldTo Address -> BillTo Address -> Contact Address</li>
 <li>For All Other Customers: BillTo Address -> Contact Address</li>
 </ul>
 
 <p>
 <B> Entitlement Rules </B>
 <p>An order gets created only if the customer on the order and the calling organization are entitled to all the items listed in the order.
 <code>ValidateItem</code> flag must be set to true on each order line to apply entitlements. The entitlement rules are applied as follows: 
 <ul>
 <li>Customer Entitlements: Customer entitlement rules are applied based on <code>Item Entitlement Strategy</code> rule set by the customer's enterprise organization. The values of this rule
 are interpreted as follows:
 <ul>
 <li>01 - Item entitlement logic is enforced based only on the item entitlement rules assigned to the customer.</li>
 <li>02 - Item entitlement logic is enforced based only on the pricelists assigned to the customer.</li>
 <li>03 - Item entitlement logic is enforced based on the intersection of item entitlement rules and pricelists assigned to the customer.   This indicates that only the entitled items with valid price assigned will be presented to the customers.</li>
 <li>04 - Item entitlement logic is ignored.</li>
 </ul>
 
 <li>Selling Entitlements: Selling entitlement rules get applied when the calling organization is not a catalog organization. These rules are
 applied regardless of what entitlement strategy is selected. Selling Entitlement should only be defined when all regular items, 
 provided services, and deliver services on an order belongs to a category, otherwise these item will fail entitlement validation.
 </ul>
 <br>
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=8 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
  <tr>
                <td><a href="../../../../../XSD/HTML/YFS_createOrder_input.html"> Input XML</a></td>
                <td><a href="../../../../../dtd/YFS_createOrder_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../../XSD/HTML/YFS_createOrder_output.html">Output XML</td>
                <td><a href="../../../../../dtd/YFS_createOrder_output_dtd.txt">Output DTD</td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
 <p> <B>Input xml:</B><br>
 PaymentDetails element under PaymentMethod element is deprecated, it is replaced by PaymentDetailsList element such that multiple payment details can be passed at a time for a payment method.Refer to input xml.<br></p>

 <p>See also: <a href="#MoreInfo">Additional Information</a>, <a href="#FAQ">Frequently Asked Questions</a> in this page.
 <p> <B>User Exits:</B> This API invokes the following user exits:
 <ul><a href="../../../yfs/japi/ue/YFSVerifyOrderUE.html">
 com.yantra.yfs.japi.ue.YFSVerifyOrderUE</a>
 <br><a href="../../../yfs/japi/ue/YFSBeforeCreateOrderUE.html">
 com.yantra.yfs.japi.ue.YFSBeforeCreateOrderUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetDeliveryLeadTimeUE.html">
 com.yantra.yfs.japi.ue.YFSGetDeliveryLeadTimeUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetDistanceUE.html">
 com.yantra.yfs.japi.ue.YFSGetDistanceUE</a>
 <br><a href="../../../yfs/japi/ue/OMPDetermineBestMultiStopTransferUE.html">
 com.yantra.yfs.japi.ue.OMPDetermineBestMultiStopTransferUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetOrderNoUE.html">
 com.yantra.yfs.japi.ue.YFSGetOrderNoUE</a>
 <br><a href="../../../yfs/japi/ue/YFSConvertCurrencyUE.html">
 com.yantra.yfs.japi.ue.YFSConvertCurrencyUE</a>
 <br> <a href="../../../ycm/japi/ue/YCMGetItemDetailsUE.html">
 com.yantra.ycm.japi.ue.YCMGetItemDetailsUE</a>
 <br><a href="../../../yfs/japi/ue/YFSRecalculateHeaderTaxUE.html">
 com.yantra.yfs.japi.ue.YFSRecalculateHeaderTaxUE</a>
 <br><ul>This user exit is called if element <code>HeaderTax</code> is not passed or if YFSOrderRepricingUE is invoked and returns HeaderCharges but not HeaderTaxes.</ul>
 <br><a href="../../../yfs/japi/ue/YFSRecalculateLineTaxUE.html">
 com.yantra.yfs.japi.ue.YFSRecalculateLineTaxUE</a>
 <br/><ul>This user exit is called if the element <code>LineTax</code> is not passed or if YFSOrderRepricingUE is invoked and does not return LineTaxes.
 <br>This user exit is also invoked when SettledQuantity on the order line's LinePriceInfo is changed.  Tax information returned from the user exit is not persisted as a LineTax, but is used to adjust the SettledAmount for the line.</ul>
 <br><a href="../../../yfs/japi/ue/YFSDetermineDateForPricingUE.html">
 com.yantra.yfs.japi.ue.YFSDetermineDateForPricingUE</a>
 <br><a href="../../../yfs/japi/ue/YFSOrderRepricingUE.html">
 com.yantra.yfs.japi.ue.YFSOrderRepricingUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetTagNoUE.html"> 
 com.yantra.yfs.japi.ue.YFSGetTagNoUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetExternalResourcePoolCapacityUE.html"> 
 com.yantra.yfs.japi.ue.YFSGetExternalResourcePoolCapacityUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetExternalInventoryForItemListUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryForItemListUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetExternalInventoryUE.html">
 com.yantra.yfs.japi.ue.YFSGetExternalInventoryUE</a>
 <br><a href="../../../yfs/japi/ue/INVGetExternalSupplyUE.html">
 com.yantra.yfs.japi.ue.INVGetExternalSupplyUE</a>
 
 <br><a href="../../../yfs/japi/ue/YFSGetDeliveryLeadTimeUE.html">
 com.yantra.yfs.japi.ue.YFSGetDeliveryLeadTimeUE</a>
 <br><a href="../../../yfs/japi/ue/INVGetSupplyCorrectionsUE.html">
 com.yantra.yfs.japi.ue.INVGetSupplyCorrectionsUE</a>
 <br><a href="../../../yfs/japi/ue/INVGetDemandCorrectionsUE.html">
 com.yantra.yfs.japi.ue.INVGetDemandCorrectionsUE</a>
 <br><a href="../../../yfs/japi/ue/OMPProcessRoutingExternallyUE.html">
 com.yantra.yfs.japi.ue.OMPProcessRoutingExternallyUE</a>
 <br><a href="../../../yfs/japi/ue/OMPGetExternalCostForOptionsUE.html">
 com.yantra.yfs.japi.ue.OMPGetExternalCostForOptionsUE</a>
 <br><a href="../../../yfs/japi/ue/YFSGetFundsAvailableUE.html">
 com.yantra.yfs.japi.ue.YFSGetFundsAvailableUE</a>

 <p>If Business Validation is enabled, the following User Exit may be invoked. 
 <br><a href="../../../yfs/japi/ue/YFSGetExternalDataForValidationUE.html"></p>
 com.yantra.yfs.japi.ue.YFSGetExternalDataForValidationUE</a></p>
 <p>If ValidateExternalCoupons flag is passed in input, the following User Exit may be invoked. 
 <br><a href="../../../yfs/japi/ue/YFSValidateExternalPromotionsUE.html"></p>
 com.yantra.yfs.japi.ue.YFSValidateExternalPromotionsUE</a></p>

 <p>If reservation is passed for order line, the following User Exit may be invoked. 
 <br><a href="../../../yfs/japi/ue/YFSGetExternalAvailabilityUE.html">
 com.yantra.yfs.japi.ue.YFSGetExternalAvailabilityUE</a></p>
 </ul>
 <p>If order line price are to be recalculated, additional pricing user exits may be invoked. 
 Refer to <a href="../../omp/order/repriceOrder.html">repriceOrder</a> API for more details.</p>
 
 <br> <B>Events Raised:</B> 
 <p>Raised during the transaction ORDER_CREATE.
 <ul>ON_SUCCESS:
 <ul>This event is raised upon successful execution of  <code>createOrder</code>.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CREATE.ON_SUCCESS.html">YFS_ORDER_CREATE.ON_SUCCESS.xml</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
 <p><ul>INCOMPLETE_PAYMENT_INFORMATION: 
 <ul>Raised when an <code>Order</code> is created and the <code>PaymentStatus</code> of the order becomes <code>AWAIT_PAY_INFO</code>.
 This event is not applicable to Quotes.
 <br>Payment Status of an order is set to AWAIT_PAY_INFO under the following conditions:
 <br> If Order total amount is greater than zero and no payment information is passed.
 <br> If payment type is of payment type group CREDIT_CARD and no credit card number is passed.
 <br> If payment type is of payment type group DEBIT_CARD and no debit card number is passed.
 <br> If payment type is of payment type group CUSTOMER_ACCOUNT and no customer account number is passed.
 <br> If payment type is of payment type group STORED_VALUE_CARD and no svc number is passed.
 <br> If payment type is of any other payment type group and no payment reference 1 is passed.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CREATE.INCOMPLETE_PAYMENT_INFORMATION.html">YFS_ORDER_CREATE.INCOMPLETE_PAYMENT_INFORMATION.xml</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
 <p><ul>BACKORDER_AT_CREATE: 
 <ul> Raised when <code>OrderLine</code>s are created with a preassigned <code>ShipNode</code>
 and <code>ReservationId</code>, and either all or some of the <code>OrderLine</code> quantity did not get reserved. This event will always be raised when IntentionalBackorder is passed as 'Y'.
 <br>Data published - <a href="../../../../../dbd/ORDER_CREATE_BACKORDER_AT_CREATE_dbd.txt">ORDER_CREATE_BACKORDER_AT_CREATE_dbd.txt</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">key data</a> 
<br>Template Support:
<br>No. 
</ul>
 </ul>
 <p><ul>ON_FAILURE: 
 <ul>
 Only non-database actions can be used for this event. For example, actions such as invoking a Java class, or sending emails.
 <br>Data published - The input xml that is passed to  the <code>createOrder</code> API.</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">key data</a> 
<br>Template Support:
<br>No. 
</ul>
 </ul>
<p><ul>ON_HOLD_TYPE_STATUS_CHANGE: <ul>This event is raised for each hold type applied on order.
Data published - <a href="../../../../../XSD/HTML/YFS_ON_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_HOLD_TYPE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
<p><ul>ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE: <ul>This event is raised for each hold type applied on order Line.
Data published - <a href="../../../../../XSD/HTML/YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
<br>Template Support:
<br>Yes.
 </ul></ul>
<p><ul>ON_AWAITING_RESERVATION_ACCEPTANCE: <ul>This event is raised for each status on order.
Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CREATE.ON_AWAITING_RESERVATION_ACCEPTANCE.html">YFS_ORDER_CREATE.ON_AWAITING_RESERVATION_ACCEPTANCE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
 <ul>PROMOTION_CHANGED:
 <ul>This event updates the redemption tracking data for promotions applied to the order.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CREATE.PROMOTION_CHANGED.html">YFS_ORDER_CREATE.PROMOTION_CHANGED.xml</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. 
 </ul></ul>
 <p>Raised during the transaction DRAFT_ORDER_CREATE.
 <ul>ON_SUCCESS:
 <ul>Raised upon successful execution of the <code>createOrder</code> API.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_DRAFT_ORDER_CREATE.ON_SUCCESS.html">YFS_DRAFT_ORDER_CREATE.ON_SUCCESS.xml</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
 <br>Template Support:
 <br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
<p><ul>ON_ZERO_UNIT_COST: <ul>This event is raised when the unit cost is zero for any of the order lines. Published data will include only the order lines with zero unit cost.
Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CREATE.ON_ZERO_UNIT_COST.html">YFS_ORDER_CREATE.ON_ZERO_UNIT_COST.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
<p><ul>ON_HOLD_TYPE_STATUS_CHANGE: <ul>This event is raised for each hold type applied on order.
Data published - <a href="../../../../../XSD/HTML/YFS_ON_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_HOLD_TYPE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
<p><ul>ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE: <ul>This event is raised for each hold type applied on order Line.
Data published - <a href="../../../../../XSD/HTML/YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
<br>Template Support:
<br>Yes.
</ul></ul>
<br>
 <p><ul>ON_ORDER_RELEASE_STATUS_CHANGE: 
<ul>This event is raised when an order release status is changed for the order.
<br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.html">YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.xml</a>
<br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. Some of the elements and attributes are not template driven. Refer to the event xml for element level details.
 </ul></ul>
 <ul>PROMOTION_CHANGED:
 <ul>This event updates the redemption tracking data for promotions applied to the order.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.PROMOTION_CHANGED.html">YFS_ORDER_CHANGE.PROMOTION_CHANGED.xml</a>
 <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
<br>Template Support:
<br>Yes. 
 </ul></ul>

<p> Raised under the transaction CAPACITY_CHANGE
<ul>ON_STD_CAPACITY_FILLED:
 <ul>Raised when consumption exceeds standard capacity defined for the day.<br>
 Data Published: <a href="../../../../../XSD/HTML/INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html">INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html</a><br/>
 Template Support: Yes<br/>
 Configuration Required for backward compatibility: No<br/>
 </ul></ul>
      <p> Raised under the transaction INVENTORY_CHANGE
<ul>INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE:
 <ul>Raised when there is a demand update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html</a><br/>
 Template Support: Yes<br/>
</ul></ul>       
<ul>INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE:
 <ul>Raised when there is a supply update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html</a><br/>
 Template Support: Yes<br/>
 </ul></ul>
        
<p>Raised during the transaction MGR_OVERRIDES.
 <ul>ON_VIOLATION:
 <ul>This event is raised upon the creation of a <code>Violation</code>.
 <br>Data published - <a href="../../../../../XSD/HTML/YSC_MGR_OVERRIDES.ON_VIOLATION.html">MGR_OVERRIDES.ON_VIOLATION.xml</a>
 <br>Key data - <a href="../../../../../dbd/violation_dbd.txt">violation_dbd.txt</a> 
<p><B>Output Template Support:</B>  Yes
 </ul></ul>
 
 <ul>EXTERNAL_CAPACITY_CHANGE:
 <ul>This event is raised when capacity consumptions are changed.
 <br>Data published - <a href="../../../../../XSD/HTML/YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.html">YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.xml</a>
 <br>Template Support: Yes
 </ul>
 </ul>
 <p> <B>Audits:</B> None
 <p> <B>Pre-conditions:</B>  None 
 </p>
 <p> <B>Post-conditions:</B> None
 </p>
 <p> <B>Output Template Support:</B> Yes
 <br> Some of the elements and attributes are not template-driven. Refer to the <a href="../../../../../XSD/HTML/YFS_createOrder_output.html">XML output</a> for element level details.
 </p>
 <p><B>Database Extensibility Support:</B> 
 <br> Yes. Except for tables that are not extensible. Refer ERD for more details.   
 <ul>
 <code>Reference</code>
 <br> <code>PaymentDetails</code>
 <br></ul></p>
 <p>
 <p> <B><a name="MoreInfo">Additional Information</a></B>
 
<p><b>Calculating OrderedQty </b>
 <br><ul>The computation of <code>OrderedQty</code> for a delivery line or a service line is based on how it is configured in catalog for the item. If ordered quantity on item is set to 'Specified on Order Line', then OrderedQty is the entered quantity on the line. Computation is described below when ordered quantity on item is set to 'One for each associated product line quantity'.
 <br>For stand-alone service lines, if there are no association with product line, quantities of product items of the stand-alone service lines will be used in calculating the service line quantity.
 
 <p><ul>service line <i>quantity</i>= 
                <ul>(<code>OrderedQty</code> of associated product line) 
</ul></ul>
 <br>This calculation is performed for <i>each</i> association the service line has with a product line.
<br>The additional required capacity for each service line in the order will be computed based on the additional capacity for region and service type configuration.
<br>The region that the ship to address falls under and the service type of the service item will be used.   
 <p><b>Computing Dates</b>
<ul>
 For an  <code>Order</code> or <code>OrderLine</code>, if <code>ReqShipDate</code> or <code>ReqDeliveryDate</code> dates are passed, then values passed are used.
 If a date value is not passed, then the date is stored in a way which signifies NULL Date.
 </p>

<p> Earliest Ship and Delivery dates are computed based upon the  Requested Ship and Delivery dates passed. If the requested date 
is not passed at <code>OrderLine</code> level, then dates at the header level are used for stamping earliest dates. If requested ship and delivery date is not passed at <code>Order</code> as well as <code>OrderLine</code> level, then current date is stamped as EarliestShipDate
    and EarliestDeliveryDate is calculated by adding the Transit Time to EarliestShipDate. If one of the dates is passed, the other date is calculated by adding TransitTime to EarliestShipDate or subtracting from EarliestDeliveryDate.
         </ul>
 <p>  <b>Transit Days Calculation  </b>
 <br> <ul> If the user exit <code>YFSGetDeliveryLeadTimeUE</code> is implemented, the TransitDays is determined by the user exit.
 <br> <b> Transfer Schedule Present </b>
 <br> If Shipnode and Receiving Node are both present on the order line and if a Transfer schedule is setup between the two nodes, the transit days specified are used for calculation of transit time. Further, the shipping and receiving calendars for each Shipnode and Receiving node respectively (if available) are used to find out the next working time when the delivery can be made or shipping can be done.
 <br> <b>SCAC record available</b>
 <p>  <ul> If  the <code>ComputeTransitDaysbasedonCarrierService</code> rule is set to <b><code>Y</code></b>, then
 <p>  <ul>Get Scac and CarrierService and locate the YFS_SCAC_SERVICE record for this combination. If this record is not found, go to No SCAC record.
 <p>  
 <br>  <ul><i>Variable Transit Days</i> = Distance between ShipNode and delivery location <i>divided by </i> Distance_Per_Day from the YFS_SCAC_SERVICE record.
 <br>    These distances are converted to the unit of measure for the SCAC service.
 <br><br> If the distance between ShipNode and delivery location cannot be calculated because the location's latitude and longitude information is not available, or  
                 if the Distance_Per_Day in the YFS_SCAC_SERVICE record is set to 0,
 <br>  Variable Transit Days = 0.</ul>
 <br>  <i>Transit Days</i> = Fixed_Transit_Days from YFS_SCAC_SERVICE record + Variable Transit Days.</ul>
 <p>  <b>No SCAC record</b>
 <p>  <ul><i>Variable Transit Days</i> = Distance between ShipNode and delivery location   <i>divided by </i> Default_Distance_Per_Day from YFS_RULES table.
 <br><br> If the distance between ShipNode and delivery location cannot be calculated because the location's latitude and longitude information is not available, or  
                 if the Distance_Per_Day in the YFS_SCAC_SERVICE record is set to 0,
 <br>  Then  <i>Variable Transit Days</i> = 0.
 <p>   <i>Transit Days</i> = Delivery_Lead_Time from YFS_RULES table + <i>Variable Transit Days</i>.</ul>
                </ul>
 <br>
 <b><i>Note </i></b>: All rules, accessed from the YFS_RULES table, are Enterprise-level rules.
 <br> If Ship Node and ShipTo is mentioned on the line, then distance between ship-node and ship-to is used to calculate variable distance.
 <br> If ShipNode is not mentioned, distance between Seller org and ShipTo is used.
 
 </ul></p></ul
 <p><b>Pipeline</b>
 <ul>Pipeline is determined for each product, service and delivery line. 
 The pipeline can be changed depending on the modification permissions, refer changeOrder javadoc for further information.
 Determination of pipeline depends on process type and key data variables in the order and order line.
</ul>
 
 <p><b>Address Defaulting</b>
 <br>BillToAddress will be defaulted on the order header in the following order:
 <br>1. Populated if passed.
 <br>2. If Buyer Organization is passed, Buyer Organization Billing Address will be used.
 <br>3. If <code>BillToID</code> is passed then Billing Address from either Consumer or Buyer is used.
 <br>ShipToAddress will be defaulted on the order header in the following order:
 <br>1. Populated if passed.
 <br>2. If <code>ShipToID</code> is passed and customer is a business (not consumer) and customer organization is a node, node's corporate address is used.
 <br>3. If <code>ReceivingNode</code> is passed, then its corporate address is used.
 <br>4. Defaulted from BillToAddress.
 <br>Line level ShipToAddress is defaulted similar to order header (steps 1-3), except that line level attributes are used.  At runtime when api's
 are invoked line level ShipToAddress, if blank, is defaulted from the order header.
 <p><b>Status & Inventory Updates</b>
 <br><ul>The <code>createOrder</code> API can create lines in the equivalent of the following three base statuses.
 <br><ul><b><code>1100</code></b> - Created
 <br><b><code>1140</code></b> - Reserved Awaiting Acceptance
 <br><b><code>1200</code></b> - Reserved
 <br><b><code>1300</code></b> - Backordered</ul>
 <p> Base status is determined by the reservation made. The actual <code>DropStatus</code> is determined for the base status from the pipeline setup.
 <p><b><i>Seller Inventory Updates</i></b>
 <br>Seller Inventory updates (in YFS_Inventory_Demand) occur only if
 required by the Seller Organization. Otherwise no demand is created. Order is always created in status <b><code>1100</code></b> or its equivalent status.

 <p> For a Logical kit line (<code>KitCode</code> is <b><code>LK</code></b>), demand is created for all the components.
 <br> For a  Physical kit line (<code>KitCode</code> is <b><code>PK</code></b>), demand is created for the parent line.
 
 <p><b><i>Status Reservations</i></b>
 <br>If a <code>ShipNode</code> is passed and either:
<br> a) <code>ReserveInventoryFlag</code> value is <b><code>Y</code></b> 
<br> b) The Rule <b><code>RESERVE_INVENTORY</code></b> is set to <b><code>Y</code></b> 
<br> c) <code>ReservationID</code> is passed 
<br> d) Reservation is mandatory for the order line,
<br> the <code>createOrder</code> API looks for the inventory availability for <code>DemandType</code> of <b><code>RSRV_ORDER</code></b>. Reservation is made at <code>ProcureFromNode</code> if ProcureFromNode is passed. In such a case, demand updates are made at both Shipnode as well as ProcureFromNode. A supply update is made at ShipNode with the supply type configured in <code>ProcurementPlacedSupplyType</code> attribute in document params. This supply compensates for the extra demand update made. When the order is scheduled and procurement order is created, the extra supply as well as demand updates are removed.
  As much of the requested quantity as is available is created with a Status of <b><code>1050</code></b> - <i>DraftOrderReserved</i> or <b><code>1200</code></b> - <i>Reserved</i>, based upon whether the order is  Draft Order or not. The remaining quantity in created with a status of <b><code>1000</code></b> - <i>DraftOrderCreated</i> or 1100 - <i>Created</i>.
<br> If reservation <b>cannot</b> be performed for a line as specified above, a new line will <b>not</b> be created if the rule <code>RESERVATION_MANDATORY</code> is set to <b>Y</b> or the order line level flag <code>RESERVATION_MANDATORY</code> which overrides the rule has a value <b>Y</b>. In such a case, the lines which are not created will be present in the <code>createOrder</code> api output under the <code>UnprocessedLines</code> node. The <code>UnprocessedLines</code> is not template controlled and will always be given in the api output whenever a line could not be created due to reservation failure.
 If the <code>ReservationID</code> is passed, create order will try to reserve inventory by first checking existing reservations for the segment (<code>ReservationID</code> passed), and if not available then check in the general pool (available non reserved inventory).  A findInventory api call is made to find Inventory from the general availability pool.
 <br>When looking up inventory availability for doing reservations, supplies and demands of the item/node combinations that are being marked as having incorrect inventory picture will not be considered.  
 <br>Note: This only impacts looking up inventory when creating a new reservation.  There will be no impact in behavior when a <code>ReservationID</code> is passed.
 <br><br>Note: In order to consume the reservation for a specific date, 'ReqShipDate' must be passed otherwise current date is assumed and reservation is looked for current date.
 <br> 
 <p align ="center"> Updates to the  YFS_Inventory_Demand table </p>
 <p>
          <table BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">        
 <tr>
                <td><b>Reservation</b></td>
                <td><b>DemandType</b></td>
                <td><b>Demand_Ship_Date</b></td>
                <td><b>Base Line Status</b></td>
 </tr>
 <tr>
                <td>Y</td>
                <td>RSRV_ORDER</td>
                <td>Same as <code>RequestedShipDate</code></td>
                <td><b><code>1200</code></b></td>
 </tr>
 <tr>
                <td>N</td>
                <td>OPEN_ORDER</td>
                <td>Same as <code>RequestedShipDate</code></td>
                <td><b><code>1100</code></b></td>
 </tr>
 <tr>
                <td>Y/N</td>
                <td>BACKORDER</td>
                <td>Same as <code>RequestedShipDate</code></td>
                <td><b><code>1300</code></b></td>
 </tr>
 </table>
 </p>
 <p><b><i>Order Line Reservations</i></b>
 <br> Multiple reservations can be passed for a given order line under <code>OrderLineReservation</code> element.  Any valid reservation will be accpeted.  Nodes, dates, item information
 do not have to match.  Later <code>scheduleOrder</code> will use these reservations as supplies that are only available for a given line.  If the reservation is successful,
 the order line reservation will be created; line will not be in Reserved status and remain in Created status.  
 <br> Additionally reservations will be distributed from bundle parent to bundle components, in case
 order line reservations for components are passed for the bundle parent.  
 <br>If ReservationID is not passed on order line reservation, api will automatically attempt to reserve quantity from available supply. 
 </p>
 <p><b><i>Preventing Double Demands Due To Order Line Reservations</i></b>
 <blockquote>For each positive order line reservation for the line, a negative order line reservation
 will be created for the quantity that matches the status. The demand type of this negative order line 
 reservation is based on the status of the line. If that status corresponds to anything other than a 
 non-committed (unpromised) demand type, the negative order line reservation will not be made.<br><br>
 For example, when adding an order line reservation for 4 quantity to an order line, which has 10 
 quantity in <code>Created</code> status, an order line reservation will be created for -4 quantity with 
 <code>OPEN_ORDER</code> as the demand type. The demand picture after the <code>changeOrder</code> call
 will show that there is 6 <code>OPEN_ORDER</code> (10 line status - 4 line reservation) and 4 
 <code>RSRV_ORDER</code> (4 line reservation).</blockquote>
 </p>
 <p><b><i> Buyer Inventory Updates</i></b>
 <br> Buyer Inventory updates (New Supply) take place if required by the Buyer Organization. Otherwise, no supply is created.
 Order status is unchanged by  buyer updates.
 <br>The <code>ReceivingNode</code> for each <code>OrderLine</code> is passed if Buyer Inventory Updates are required. 
 If the <code>ReceivingNode</code> is not passed, then no buyer inventory updates are done.
 New supply is created for the <code>ReceivingNode</code> with a SupplyType of <b><code>PO_PLACED</code></b>.
 <br/>The following fields are updated in YFS_Inventory_Supply table:
 <ul><br>Supply_Type: <b><code>PO_PLACED</code></b>
 <br> ETA: <b><code>Req_Delivery</code></b>
 <br>Ship_By_Date:If item is not time-sensitive, updates with high number.
 <br>If the item is time-sensitive, it is calculated as ETA + DEFAULT_EXPIRATION_DAYS, from the Item Master.
 </ul>
 <p><b><i>Inventory_Tag_Key</b></i>
 <br> If the item is tag-controlled and if the <code>LotInformation</code> is passed, use the key from the <code>Inventory_Tag</code> table for the item.
 <br> <br>For a Kit line, Supply is always created for the parent item, irrespective of the kit code.
 <br> <br>For a  tag-controlled item, and the tag attributes are passed, supply/demand are created with tag. 
 Tag attributes can be passed in the <code>OrderLines/OrderLine/Schedules/Schedule</code> node.
 One line can have multiple Schedules. It can be changed later on using the <code>changeOrder</code> API.

 <br> <br><b><I> Note:</b></I> 
<br>Tag attributes should be passed only if item is tag-controlled.
<br>Tag attributes should not be for to a logical kit item. If passed, the tag attributes are applied to all the 
 components.

 </ul></ul></p> 
 
 <p><b>Capacity Allocation</b>
 <br><ul>The <code>createOrder</code> API will try to allocate capacity for a PS/DS line if either <code>ReservationID</code> and/or PS/DS line has an appointment specified on it. The following four combinations are possible:
<p><b>ReservationID passed: </b>  Reservation ID should only be passed together with the appointment dates on the line.
<p><b>Appointment dates passed:</b> If capacity exists for the dates specified, capacity will be blocked for the line. If capacity available is less than order line quantity, then capacity will not be blocked for order line. Appointment dates are retained on order line.
<p><b>ReservationID and Appointment dates passed:</b> If reservation exists for the dates specified, capacity will be blocked for the line. If reserved quantity is less than order line quantity, then reservation is lost and capacity will not be blocked for order line. It is validated that reservation is for the passed dates.
<p><b>ReservationID and Appointment dates both not passed: </b>No capacity allocation.
<p>If customer exists for the order and the <code>CanConsumeSupplementalCapacity</code> attribute of the customer is set to <code><b>Y</b></code>, supplemental capacity of the resource pool which can serve the service line will be considered in its availability calculation.   
 </ul>
 <p><b>Line Item Dependency</b>
 <ul>A group of order lines can be designated as dependent on each other. In a group, one of the 
 lines must be designated as Parent line. All dependency rules are defined on this line. 
 There could be multi-level dependency. The <code>createOrder</code> API ensures there is no circular dependency.
 
 <br/>For example
 <ul><br>Line1 depends on Line2
 <br>Line3 depends on Line2
 <br>Line3 depends on <i>Line1</i></ul>
 <p>After database updates, the PARENT_OF_DEPENDENT_GROUP field is set to <b><code>Y</code></b> for the parent line 
 and the DEPENDENT_ON_LINE_KEY field is populated with parent line's <code>OrderLineKey</code> on all dependent lines.
</ul>
<p><b>Hold Type Processing</b>
<br><ul>An order or Order Line may be associated with one or more hold types upon order creation. Hold types can be passed to the API, can be configured to be applied during order creation conditionally, or both.  The xml used to evaluate the condition to apply holds automatically is template based. The template is similar to api output template and can be extended the same way. For each hold type on an order or order line, a task queue request is created for the processing transaction of that hold type. The task queue will be updated so that, if applicable, the transactions prevented for the order on that hold type will not pick up that order.
 <br>XML for hold type condition evaluation for Order Level Hold- <a href="../../../../../XSD/HTML/YFS_ORDER_HOLD_CONDITION.html">YFS_ORDER_HOLD_CONDITION.xml</a>
 <br>Template name for Order Level Hold: ORDER_HOLD_CONDITION.xml
 <br>XML for hold type condition evaluation for Order Line Level Hold- <a href="../../../../../XSD/HTML/YFS_ORDER_LINE_HOLD_CONDITION.html">YFS_ORDER_LINE_HOLD_CONDITION.xml</a>
 <br>Template name for Order Line Level Hold: ORDER_LINE_HOLD_CONDITION.xml  
 </ul>
<p><b>Sourcing Controls</b>
<br><ul>For a given order line a set of nodes can be specified which will be ignored during scheduling.  Node can be ignored for procurement consideration (as procure from node) or during sourcing consideration (as ship node).  
 </ul>
<br><ul>NOTE: If Node is blank and SuppressNodeCapacity is Yes, then inventory node capacity will be ignored for all nodes of the OrderLine.  
 </ul>
<p><b>Bundle Handling</b>
<br><ul>For a given order line if it is a bundle, bundle definition can either be passed or is read from the catalog. When bundles are read from the catalog, an order line is created for each component of the bundle using template <b>BundleComponentLineTemplate</b>. ProductClass is defaulted from the bundle parent line to all the component lines. <code>IsLinePriceForInformationOnly</code> flag is set 'N' on the component lines.
If bundle parent line is associated with Special Service and <b>BundleComponentLineTemplate</b> template allows OrderLineOption and its CustomAttributes, then they are copied from bundle parent line to all of its component lines. 
<br><br>When bundles are read from the catalog, associations with service line may get established  depending on the setup. If a product item has a service associated which is part of the bundle also then association is built automatically. 
 </ul>
<p><b>Bundle Ship Together</b>
<br>Following attributes are kept in synch for Bundle parent line and associated component lines if not overridden at bundle component level.
 <ul>
        <br><code>PromisedApptStartDate</code>
        <br><code>PromisedApptEndDate</code>
        <br><code> EarliestShipDate</code>
        <br><code>EarliestDeliveryDate</code>
        <br><code>MergeNode</code>
        <br><code>ShipNode</code>
        <br><code>ShipToAddress</code>
        <br><code>ReceivingNode</code>
        <br><code>FulfillmentType</code>
 </ul>
 <p> <b>Register Process Completion</b>
 <ul>Each transaction in the pipeline writes data in YFS_TASK_Q table when the transaction completes its task.
 This data can be used by the next transaction in line. Each subsequent transaction can potentially request work 
 and the system can search this queue and hand out requests. 
  This capability is controlled through the configuration parameter WORKS_OFF_TASK_Q in YFS_TRANSACTION table.
 <p>At the end of <code>createOrder</code>, for each drop status order created , the processing
 gets the pickup transaction from the pipeline. If the transaction WORKS_OFF_TASK_Q in YFS_TRANSACTION is <b><code>Y</code></b>,
 a request is created for the transaction with a data key, which can be either ORDER_HEADER_KEY or ORDER_LINE_KEY. 
</ul>
 </p>
 <p> <b>Quantity Limitation</b>
 <ul>During any order fulfillment process inventory quantity in a given order for a single item should never exceed 2147483647 (Maximum Integer).
 If this limit is exceeded, such order will not get scheduled.  Also all inventory operations will not be correctly performed.
 </ul>
 </p>
 <p> <b>Customer Order Management</b><br />
 Different users will be able to access corresponding orders based on order's customer assignments to team or users. Users who are allowed to manage 
 orders placed by a given customer will be allowed to manage orders for customer's children and their children.
 The following type of assignments can be done:</p>
 <ul>
 <li>Manual Assignment on Order<br/>
 Whenever TeamCode attribute is passed on the order, then the users who are members of this team will be able to manage the order.
 If the user is a supervisor of the team then this user gets to manage all the orders that are manually assigned to the user's team and to 
 all the child teams of the user's team.</li>
 <li>Manual User Assignments<br/>
 A User can be assigned to a customer and an order placed by this customer can only be managed by the user assigned to this customer. 
 Manual assignment does not apply when the user is a supervisor, as the supervisor will be able to manage all the orders placed by the 
 customers assigned to the members of his team.</li>
 <li>Team Based Assignments<br/>
 A Team can be assigned to the customer and thus all the users who are a part of this team will be able to manage the orders placed by 
 this customer.</li>
 <li>Buyer Based Assignments</br>
 A Buyer user can manage orders for all the customers accounts that are assigned to the user. A Buyer user will be able manage orders for their assigned 
 customers or for their assigned customers and their child customers. If the assignments needs to be created for Customers defined by 
 multiple customer masters organizations, then the customers and the BuyerUser should belong to the same buyer organization.</li>
 <li></li>
 </ul>
 </p>
<p><b>Order Approval</b>
<ul><br>If <code>BuyerUserId</code> and <code>BillToID</code> are passed on the order, validation is performed to map <code>BuyerUserId</code> to a valid CustomerContact for the <code>BillToID</code> Customer. 
<br>If hold type is configured to be applied for order approval, and if <code>BuyerUserId</code> is passed on the order, then, if the order total is greater than the spending limit of the customer contact, hold will be applied.
<br> When hold is applied on the order, <code>ResolverUserId</code> is set to be the <code>ApproverUserId</code> of the CustomerContact mapping to the <code>BuyerUserId</code>.
 </ul>
 </p>
<p><b>Order Tags</b>
<ul><br>Based on <code>Order Tag Determination</code> configuration, <code>Order Tags</code> will be automatically populated on the order whenever order header and order line conditions are satisfied and corresponding modification type is applied (only during <code>changeOrder</code> call). Such tags will have a purpose <code>Y.COMPATIBILITY</code>.
<br> Order header and order line conditions for tag determination are the same as for hold types.  For order header <code>ORDER_HOLD_CONDITION.xml</code> is used and for order line <code>ORDER_LINE_HOLD_CONDITION.xml</code> is used.
<br> Client application can pass a specific tag to indicate client version in which order was taken.  Based on this tag, a pipeline condition can be applied to an order's line which has the tag specified.  Client version tag has to be created with <code>Tag Type</code> as <code>Y.VERSION</code>.  In the condition builder an attribute <code>VersionTag</code> will be matched to a <code>TagId</code> of the tag with the type <code>Y.VERSION</code>.  It is expected to have a single tag with type <code>Y.VERSION</code>, otherwise a first tag will be used for condition evaluation.
 </ul>
 </p>
<p><b>Payment Processing</b>
<ul><br>The <code>PaymentRuleId</code> attribute determines how this order will be processed by the payment time triggered 
transactions.  If not passed, it is defaulted from the Enterprise.  When the order is created, it flags itself as 
available for the <code>PAYMENT_COLLECTION</code> agent to process the order.  If the payment rule does not require 
Authorization before scheduling the order, then the order will prevent Authorization.  Otherwise, authorization requests will be created. 
<br>Payment Processing on draft orders is not supported. 
 </ul>
 </p>
 <p><b>Enhanced Pricing</b>
 <blockquote>When an order is created, pricing is determined based on the process type detail rules
 on whether pricing is enabled for draft orders and confirmed orders. Refer to the  
 <code><a href="repriceOrder.html">repriceOrder</a></code> API for more details on pricing using
 the enhanced pricing engine.
 </blockquote></p>
 <p><b><a name="FAQ">Frequently Asked Questions</a></b>:
<ul>
 <p><b>Q.</b> What is a <code>Schedule</code>? Must I pass a <code>Schedule</code> to create an <code>Order</code>?
 <br/><ul><b>A.</b> A <code>Schedule</code> associates a <code>LotNumber</code> with an <code>OrderLine</code>. If you want to create an order 
 for a particular ShipNode, you should pass a  <code>Schedule</code> with a valid <code>LotNumber</code> and <code>Quantity</code>. 
 This should only be done if the <code>Item</code> is a lot-controlled item.
 <br>If the <code>LotNumber</code> is not available at time of <code>createOrder</code>, it can be associated later.
 </p></ul>
 <p> <b>Q.</b> Can I create an order with a <code>LotNumber</code>?
 <br/><ul><b>A.</b>  Yes. Use the <code>Schedule</code> element under <code>OrderLine</code> which is used to set
 <code>LotNumber</code> and <code>Quantity</code>.</ul>
 </p>
 <p><b>Q.</b>  Is it possible to change the pipeline later on?
 <br/><ul><b>A.</b> Yes. The pipeline can be changed depending on the modification permissions, refer changeOrder javadoc for further information.</ul>
 </p>
 <p><b>Q.</b>  Does the <code>createOrder</code> API throw an error if inventory is not found at the time of order creation?
 <br/><ul><b>A.</b>  No, this is not an error condition. The order is created with a status of <b><code>1100</code></b> - <i>Created</i>, or its equivalent status.
 To be notified when there is insufficient inventory, enable the BACKORDER_AT_CREATE event. To raise the 
 BACKORDER_AT_CREATE event, the <code>ReservationID</code> must also be passed.</ul>
 </p>
 <p><b>Q.</b>  Does <code>createOrder</code> API throw an error if payment information is not passed?
 <br/><ul><b>A.</b>  No, It is not an error condition. The <code>PaymentStatus</code> is set to AWAIT_PAY_INFO. 
 To be notified when there is insufficient payment information, enable the INCOMPLETE_PAYMENT_INFORMATION  event.</ul>
 </p>
 <p><b>Q.</b>  Can I alter my input XML after invoking the <code>createOrder</code> API?
 <br/><ul><b>A.</b>  The <code>beforeCreateOrder</code> user exit is called before doing any processing. Input XML can be
 modified in the processing associated with this user exit.</ul>
 </p>
 <p><b>Q.</b> The input XML has so many fields. If I do not need all of them, do I have to pass them?
 <br/><ul><b>A.</b> You should pass required fields. You do not need to pass unused fields. If all the attributes in an element 
 are passed as blank, an error is thrown.</ul>
 </p></ul>
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
 <br>
 <br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML  document that contains details about the order to be created on the platform. For details on the output, 
 refer to the associated         <a href="#xmltable">output files</a>. 
 <br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.</dd>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing  error codes in the standard  <a href="#xmltable">error files</a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/createDiscrBasedAdjustmentInvoice.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/createOrderFromMasterOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/createOrder.html" target="_top">Frames</a></li>
<li><a href="createOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>
